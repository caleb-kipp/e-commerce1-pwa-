<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Authentication ‚Äî Caleb‚Äôs Store</title>

  <!-- External CSS -->
  <link rel="stylesheet" href="auth.css">
<link rel="stylesheet" href="responsive-auth.css">
<script src="auth.js"></script>
  <!-- Google Fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap">
    <script src="aut.js"></script>
  <style>
    :root {
      --bg-light: #e0e5ec;
      --bg-dark: #1c1e26;
      --shadow-light: #ffffff;
      --shadow-dark: #a3b1c6;
      --text-light: #2d3436;
      --text-dark: #f1f2f6;
      --accent: #5c7cfa;
      --accent2: #6a89cc;
      --error: #ff4d4f;
      --success: #4cd137;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      background: var(--bg-light);
      color: var(--text-light);
      height: 100vh;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.4s, color 0.4s;
    }

    body.dark {
      background: var(--bg-dark);
      color: var(--text-dark);
    }

    /* ========== AUTH CONTAINER ========== */
    .auth-wrapper {
      position: relative;
      display: flex;
      width: 85%;
      max-width: 1100px;
      height: 620px;
      background: var(--bg-light);
      border-radius: 30px;
      box-shadow: 9px 9px 16px var(--shadow-dark), -9px -9px 16px var(--shadow-light);
      overflow: hidden;
      transition: background 0.4s;
    }

    body.dark .auth-wrapper {
      background: var(--bg-dark);
      box-shadow: 9px 9px 16px #12141b, -9px -9px 16px #2a2c38;
    }

    /* ========== LEFT WELCOME PANEL ========== */
    .left-panel {
      flex: 1;
      background: linear-gradient(145deg, var(--accent2), var(--accent));
      color: white;
      padding: 80px 40px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: flex-start;
    }

    .left-panel h1 {
      font-size: 2.6rem;
      margin-bottom: 20px;
    }

    .left-panel p {
      font-size: 1.1rem;
      line-height: 1.6;
      margin-bottom: 40px;
    }

    .left-panel button {
      background: white;
      color: var(--accent);
      border: none;
      border-radius: 12px;
      padding: 12px 25px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: 0.3s;
      box-shadow: 3px 3px 8px rgba(0,0,0,0.2);
    }

    .left-panel button:hover {
      transform: scale(1.05);
    }

    /* ========== SLIDER DIVIDER ========== */
    .divider {
      width: 80px;
      background: var(--bg-light);
      position: relative;
      border-radius: 0 50% 50% 0;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.3s;
    }

    .divider button {
      background: var(--accent);
      color: white;
      border: none;
      font-size: 1.5rem;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .divider button:hover {
      transform: scale(1.1);
    }

    /* ========== RIGHT SLIDE PANEL ========== */
    .right-panel {
      flex: 2;
      background: var(--bg-light);
      position: relative;
      overflow: hidden;
      transition: background 0.4s;
    }

    body.dark .right-panel {
      background: #252834;
    }

    .slide-form {
      position: absolute;
      top: 0;
      right: -100%;
      width: 100%;
      height: 100%;
      background: var(--bg-light);
      padding: 60px 40px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      border-top-left-radius: 40px;
      border-bottom-left-radius: 40px;
      box-shadow: -9px -9px 16px var(--shadow-light),
                  9px 9px 16px var(--shadow-dark);
      transition: right 0.8s cubic-bezier(0.77, 0, 0.175, 1);
    }

    body.dark .slide-form {
      background: var(--bg-dark);
      box-shadow: -9px -9px 16px #2a2c38,
                  9px 9px 16px #12141b;
    }

    .slide-form.active {
      right: 0;
    }

    h2 {
      margin-bottom: 25px;
      font-weight: 700;
      color: var(--accent);
    }

    input {
      width: 100%;
      max-width: 340px;
      padding: 12px;
      margin: 8px 0;
      border: none;
      border-radius: 12px;
      background: var(--bg-light);
      box-shadow: inset 5px 5px 10px var(--shadow-dark),
                  inset -5px -5px 10px var(--shadow-light);
      outline: none;
      font-size: 14px;
      transition: all 0.3s;
    }

    body.dark input {
      background: var(--bg-dark);
      color: var(--text-dark);
      box-shadow: inset 5px 5px 10px #12141b, inset -5px -5px 10px #2a2c38;
    }

    input:focus {
      transform: scale(1.02);
    }

    .input-wrapper {
      position: relative;
      width: 100%;
      max-width: 340px;
    }

    .toggle-eye {
      position: absolute;
      right: 15px;
      top: 35%;
      cursor: pointer;
      user-select: none;
    }

    .caps-warning {
      color: var(--error);
      font-size: 12px;
      text-align: left;
      width: 100%;
      max-width: 340px;
      display: none;
    }

    .form-btn {
      width: 100%;
      max-width: 340px;
      padding: 12px;
      margin-top: 20px;
      border: none;
      border-radius: 12px;
      background: var(--accent);
      color: white;
      cursor: pointer;
      font-weight: 600;
      box-shadow: 5px 5px 10px var(--shadow-dark),
                  -5px -5px 10px var(--shadow-light);
      transition: all 0.3s;
    }

    .form-btn:hover {
      transform: scale(1.05);
      background: var(--accent2);
    }

    .form-options {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      max-width: 340px;
      margin-top: 10px;
      font-size: 13px;
    }

    .form-options span {
      color: var(--accent);
      cursor: pointer;
      text-decoration: underline;
    }

    .remember {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .social-login {
      margin-top: 25px;
      display: flex;
      gap: 10px;
    }

    .social-login button {
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      cursor: pointer;
      background: var(--bg-light);
      box-shadow: 5px 5px 10px var(--shadow-dark),
                  -5px -5px 10px var(--shadow-light);
      font-size: 18px;
      transition: transform 0.3s;
    }

    .social-login button:hover {
      transform: scale(1.1);
    }

    .success, .error {
      margin-top: 10px;
      font-size: 14px;
    }

    .success { color: var(--success); }
    .error { color: var(--error); }

    @media (max-width: 900px) {
      .auth-wrapper {
        flex-direction: column;
        height: auto;
      }

      .divider {
        display: none;
      }

      .left-panel {
        border-radius: 30px 30px 0 0;
        align-items: center;
        text-align: center;
      }

      .slide-form {
        border-radius: 0;
      }
    }
  </style>
</head>

<body>
  <div class="auth-wrapper">
    <!-- LEFT PANEL -->
    <div class="left-panel">
      <h1>Welcome to Caleb‚Äôs Store</h1>
      <p>Sign in or create an account to start exploring personalized shopping experiences and exclusive offers.</p>
      <button onclick="alert('Learn more about Caleb‚Äôs Store!')">Learn More</button>
    </div>

    <!-- DIVIDER -->
    <div class="divider">
      <button id="openLogin">&gt;</button>
    </div>

    <!-- RIGHT PANEL -->
    <div class="right-panel">
      <!-- LOGIN SLIDE FORM -->
      <div class="slide-form" id="loginForm">
        <h2>Login</h2>
        <input type="text" id="loginUser" placeholder="Email / Username / Mobile" required>
        <div class="input-wrapper">
          <input type="password" id="loginPass" placeholder="Password" required>
          <span class="toggle-eye" onclick="togglePass('loginPass', this)">üëÅÔ∏è</span>
        </div>
        <div class="caps-warning" id="capsWarning">Caps Lock is ON</div>

        <div class="form-options">
          <div class="remember">
            <input type="checkbox" id="rememberMe"> <label for="rememberMe">Remember Me</label>
          </div>
          <span onclick="alert('Forgot Password? Feature coming soon!')">Forgot Password?</span>
        </div>

        <button class="form-btn" onclick="login()">Sign In</button>
        <div class="social-login">
          <button title="Login with Google">G</button>
          <button title="Login with Facebook">f</button>
          <button title="Login with Apple">Ô£ø</button>
        </div>
        <p class="toggle-links">New here? <span onclick="showRegister()">Create Account</span></p>
        <div id="loginMsg"></div>
      </div>

      <!-- REGISTER SLIDE FORM -->
      <div class="slide-form" id="registerForm">
        <h2>Create Account</h2>
        <input type="text" id="regName" placeholder="Full Name" required>
        <input type="email" id="regEmail" placeholder="Email Address" required>
        <input type="tel" id="regPhone" placeholder="Mobile Number" required>
        <input type="password" id="regPass" placeholder="Password" required>
        <input type="password" id="regConfirm" placeholder="Confirm Password" required>
        <button class="form-btn" onclick="register()">Register</button>
        <p class="toggle-links">Already have an account? <span onclick="showLogin()">Login</span></p>
        <div id="regMsg"></div>
      </div>
    </div>
  </div>

  <script>
    const loginForm = document.getElementById("loginForm");
    const registerForm = document.getElementById("registerForm");
    const openLogin = document.getElementById("openLogin");
    const capsWarning = document.getElementById("capsWarning");

    // Slide-in animation trigger
    openLogin.addEventListener("click", () => {
      loginForm.classList.toggle("active");
    });

    function showRegister() {
      loginForm.classList.remove("active");
      registerForm.classList.add("active");
    }

    function showLogin() {
      registerForm.classList.remove("active");
      loginForm.classList.add("active");
    }

    function togglePass(id, el) {
      const input = document.getElementById(id);
      input.type = input.type === "password" ? "text" : "password";
      el.textContent = input.type === "password" ? "üëÅÔ∏è" : "üôà";
    }

    // CAPS LOCK indicator
    document.getElementById("loginPass").addEventListener("keyup", (e) => {
      capsWarning.style.display = e.getModifierState("CapsLock") ? "block" : "none";
    });

    // Register function
    function register() {
      const name = document.getElementById("regName").value.trim();
      const email = document.getElementById("regEmail").value.trim();
      const phone = document.getElementById("regPhone").value.trim();
      const pass = document.getElementById("regPass").value.trim();
      const confirm = document.getElementById("regConfirm").value.trim();
      const msg = document.getElementById("regMsg");

      if (!name || !email || !phone || !pass || !confirm) {
        msg.innerHTML = '<p class="error">Please fill in all fields.</p>';
        return;
      }
      if (pass !== confirm) {
        msg.innerHTML = '<p class="error">Passwords do not match.</p>';
        return;
      }
      if (localStorage.getItem("user_" + email)) {
        msg.innerHTML = '<p class="error">User already exists!</p>';
        return;
      }
      localStorage.setItem("user_" + email, JSON.stringify({ name, phone, password: pass }));
      msg.innerHTML = '<p class="success">Account created! Please log in.</p>';
      setTimeout(showLogin, 1500);
    }

    // Login function
    function login() {
      const user = document.getElementById("loginUser").value.trim();
      const pass = document.getElementById("loginPass").value.trim();
      const remember = document.getElementById("rememberMe").checked;
      const msg = document.getElementById("loginMsg");

      const data = JSON.parse(localStorage.getItem("user_" + user) || "{}");
      if (data.password === pass) {
        sessionStorage.setItem("activeUser", user);
        if (remember) localStorage.setItem("rememberUser", user);
        msg.innerHTML = '<p class="success">Login successful!</p>';
        setTimeout(() => (window.location.href = "index.html"), 1000);
      } else {
        msg.innerHTML = '<p class="error">Invalid credentials!</p>';
      }
    }

    if (sessionStorage.getItem("activeUser")) {
      window.location.href = "index.html";
    }
  </script>
</body>
</html>
