<!DOCTYPE html><html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ShopSphere ‚Äì Modern E‚Äëcommerce Demo</title>
  <meta name="description" content="Accessible, responsive e‚Äëcommerce demo with product modal, search autocomplete, wishlist, cart, reviews, analytics filters, and more.">
  <meta name="keywords" content="ecommerce, demo, shop, cart, wishlist, product modal, search, accessibility, responsive">
  <meta name="theme-color" content="#111827">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
       <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet">
      <script src="indx.js"></script>
          <script src="dynamicproduct.js"></script>  
          <script src="products.js"></script>
          <script src="products14.js"></script>
<script src="product-bridge.js"></script>
 <link rel="stylesheet" href="product2.css">
<script src="indexproductmodal.js"></script>
<script src="product-carousel.js"></script>
 <script src="product-view1.js"></script>
  <script src="part1.js"></script>
    <script src="script.js"></script>
     <script src="product-view.js"></script>
      <script src="product-view0.js"></script>
       <script src="products-view.js"></script>
        <script src="index0.js"></script>
         <script src="index1.js"></script>
         <script src="protect.js" defer></script>
         <script src="auth.js"></script>
<script src="secure-core.js"></script>


  <style>
    :root{
      --bg:#0b0f14; --card:#121825; --muted:#6b7280; --text:#e5e7eb; --brand:#22c55e; --brand-2:#06b6d4; --accent:#f59e0b; --danger:#ef4444; --shadow:0 10px 30px rgba(0,0,0,.25);
      --radius:16px; --radius-sm:12px; --radius-lg:22px; --max:1200px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:linear-gradient(180deg,#0b0f14,#0b0f14 60%,#0e141c);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{width:100%;max-width:var(--max);margin:0 auto;padding:0 16px}
    header{position:sticky;top:0;z-index:50;background:rgba(11,15,20,.8);backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,.05)}
    .topbar{display:flex;align-items:center;gap:12px;justify-content:space-between;padding:12px 0}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.5px}
    .brand .logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,var(--brand),var(--brand-2));display:grid;place-items:center;box-shadow:var(--shadow)}
    .brand .logo svg{filter:drop-shadow(0 1px 4px rgba(0,0,0,.25))}
    .search{position:relative;flex:1;max-width:560px}
    .search input{width:100%;padding:12px 44px 12px 14px;border-radius:999px;border:1px solid rgba(255,255,255,.08);background:#0f1623;color:var(--text)}
    .search input::placeholder{color:#94a3b8}
    .search .icon{position:absolute;right:8px;top:50%;transform:translateY(-50%);opacity:.7}
    .autocomplete{position:absolute;top:44px;left:0;right:0;background:#0f1623;border:1px solid rgba(255,255,255,.08);border-radius:14px;overflow:hidden;box-shadow:var(--shadow);display:none}
    .autocomplete button{display:flex;width:100%;padding:10px 12px;gap:8px;border:0;background:transparent;color:var(--text);text-align:left;cursor:pointer}
    .autocomplete button:hover{background:#121b2b}.actions{display:flex;align-items:center;gap:10px}
.icon-btn{display:inline-grid;place-items:center;width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#0f1623;cursor:pointer}
.pill{font-size:12px;background:var(--brand);color:#00140a;border-radius:999px;padding:2px 8px;font-weight:700}

nav{display:flex;gap:16px;overflow:auto;padding:10px 0 12px}
nav a{padding:8px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.06);white-space:nowrap;background:#0f1623}

/* HERO */
.hero{display:grid;grid-template-columns:1fr;gap:16px;padding:18px 0}
.hero-left{position:relative;border-radius:var(--radius-lg);overflow:hidden}
.hero-left img{aspect-ratio:16/9;object-fit:cover}
.hero-overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.0),rgba(0,0,0,.55));display:flex;align-items:flex-end;padding:18px}
.hero-ctas{display:flex;gap:10px;margin-top:8px}
.btn{padding:10px 14px;border-radius:12px;border:0;cursor:pointer;font-weight:700}
.btn-primary{background:linear-gradient(135deg,var(--brand),#16a34a);color:#04120b}
.btn-ghost{background:transparent;border:1px solid rgba(255,255,255,.15);color:var(--text)}

.hero-right{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.mini-card{background:#0f1623;border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);padding:14px;display:grid;grid-template-rows:auto 1fr auto;gap:10px}
.mini-card img{border-radius:12px;aspect-ratio:4/3;object-fit:cover}
.mini-card .foot{display:flex;align-items:center;justify-content:space-between}
/* Men/Women sections */
.section{margin:24px 0}
.section h2{margin:0 0 12px}
.grid{display:grid;gap:16px}
.grid.mw{grid-template-columns: repeat(auto-fit, minmax(40%, 1fr));
    gap: 1px;
    width:100%;}
.grid .big{grid-row:span 2;background:#0f1623;border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);overflow:hidden;position:relative}
.grid .big img{height:100%;width:100%;object-fit:cover}
.grid .card{background:#0f1623;border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);overflow:hidden;position:relative}
.grid .card img{aspect-ratio:1/1;object-fit:cover}
.card .meta{position:absolute;inset:auto 8px 8px 8px;background:rgba(0,0,0,.55);backdrop-filter:blur(4px);padding:8px;border-radius:10px;font-size:14px}
.card:hover,.big:hover{transform:translateY(-2px);transition:transform .2s ease}
/* carousels */
.row{display:flex;gap:14px;overflow:auto;scroll-snap-type:x mandatory;padding-bottom:10px}
.row .p-card{flex:0 0 220px;scroll-snap-align:start;background:#0f1623;border:1px solid rgba(255,255,255,.06);border-radius:14px;overflow:hidden}
.row .p-card img{aspect-ratio:4/3;object-fit:cover}
.row .p-card .p-meta{padding:10px}
.carousel-ctl{display:flex;gap:10px}

/* badges & trust */
.trust{display:flex;flex-wrap:wrap;gap:10px}
.trust .badge{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:12px;background:#0f1623;border:1px solid rgba(255,255,255,.06)}

/* footer */
footer{margin-top:40px;border-top:1px solid rgba(255,255,255,.06);background:#0f1623}
footer .cols{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;padding:24px 0}
footer a{color:#cbd5e1}

/* product modal */
.product-modal{position:fixed;inset:0;background:rgba(0,0,0,.65);display:none;align-items:center;justify-content:center;padding:16px;z-index:9999}
.modal-content{background:#0b111b;border:1px solid rgba(255,255,255,.06);border-radius:16px;max-width:1100px;width:100%;max-height:90vh;overflow:auto;display:grid;grid-template-columns:1.1fr 1fr}
.close-btn{position:sticky;top:8px;margin:8px;border:0;background:#0f1623;border:1px solid rgba(255,255,255,.08);color:var(--text);width:36px;height:36px;border-radius:10px;cursor:pointer}
.modal-left{padding:14px;border-right:1px solid rgba(255,255,255,.06)}
.viewer{background:#0f1623;border:1px solid rgba(255,255,255,.06);border-radius:12px;overflow:hidden}
.viewer img{width:100%;height:420px;object-fit:cover}
.related-carousel{margin-top:10px;display:flex;gap:10px;overflow:auto}
.related-carousel img{width:90px;height:90px;object-fit:cover;border-radius:10px;border:1px solid rgba(255,255,255,.08);cursor:pointer}
.modal-right{padding:14px;display:grid;gap:10px}
.price{font-size:14px;font-weight:800}
.stars{display:flex;gap:2px}
.qty{display:flex;gap:8px;align-items:center}
.options{display:flex;flex-wrap:wrap;gap:8px}
.chip{padding:8px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.12);cursor:pointer}

.tabs{display:flex;gap:8px;margin-top:8px}
.tabs button{padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:#0f1623;color:var(--text);cursor:pointer}
.panel{background:#0f1623;border:1px solid rgba(255,255,255,.06);border-radius:12px;padding:12px;margin-top:8px}
.reviews textarea{background:#0b111b;color:var(--text);border:1px solid rgba(255,255,255,.1);border-radius:10px;padding:8px}

/* auth + misc modals */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center;padding:16px;z-index:90}
.modal .box{background:#0b111b;border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:18px;max-width:520px;width:100%}
.field{display:grid;gap:6px;margin:8px 0}
.field input, .field select, .field textarea{background:#0f1623;color:var(--text);border:1px solid rgba(255,255,255,.08);border-radius:10px;padding:10px}
.helper{font-size:15px;color:#9aa4b2}

/* responsive */
@media (max-width: 1664px){
  .grid.mw {
    grid-template-columns: 1.5fr 1fr 1fr; 
    grid-auto-rows: 260px;
  }
  .modal-content {
    grid-template-columns: 1fr;
  }
  .viewer img {
    height: 300px;
  }
}
@media (max-width: 1024px){
  .grid.mw {
    grid-template-columns: 1.5fr 1fr 1fr; 
    grid-auto-rows: 260px;
  }
  .modal-content {
    grid-template-columns: 1fr;
  }
  .viewer img {
    height: 300px;
  }
}

@media (max-width: 640px){
  
  footer .cols {
    grid-template-columns: 1fr 1fr;
  }
}
/* Product price */
.price {
  font-size: 12px;
  margin-bottom: 4px;
}

/* Card text */
.p-meta h2 {
  margin: 0 0 4px;
  font-size: 16px;
}

.p-meta p {
  margin: 0;
}

.btn {
  font-size: 16px;
  padding: 6px 19px;
  border-radius: 8px;
}

/* Wishlist & cart buttons */
.btn-outline-secondary {
  color: #ff6b81;
  border-color: #ff6b81;
}
.btn-outline-secondary:hover {
  background: #ff6b81;
  color: #fff;
}
/* Product price */
.price {
  font-size: 14px;
  margin-bottom: 4px;
}

/* Card text */
.p-meta h5 {
  margin: 0 0 4px;
  font-size: 16px;
}

.p-meta p {
  margin: 0;
}

.btn {
  font-size: 16px;
  padding: 6px 10px;
  border-radius: 8px;
}

/* Wishlist & cart buttons */
.btn-outline-secondary {
  color: #ff6b81;
  border-color: #ff6b81;
}
.btn-outline-secondary:hover {
  background: #ff6b81;
  color: #fff;
}
/* Blog teasers */
.grid.blog{grid-template-columns:repeat(3,1fr);gap:16px}
    
/* Product title inside modal */
#mTitle {
  font-size: 1.2rem;
  font-weight: 700;
  margin-bottom: 8px;
  background: linear-gradient(135deg,#00c6ff,#0072ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* Product price */
#mPrice {
  font-size: 0.9rem;
  color: #ffce54;
  font-weight: 600;
  margin: 6px 0;
}

/* Specs list ‚Äì auto wrap lines */
#mSpecs li {
  font-size: 1.1rem;
  line-height: 1.5;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Description ‚Äì readable block */
#mDescLong {
  font-size: 1.2rem;
  line-height: 1.7;
  margin-top: 12px;
  white-space: normal;
  word-break: break-word;
  text-align: justify;
}
/********************
 * Product modal enhancements
 ********************/
#productModal,
#productModal .modal-content,
#productModal .modal-right,
#productModal .panel,
#productModal .tabs,
#productModal .reviews {
  font-size: 1.2rem;
  line-height: 1.5;
}

/* Prevent page scroll when modal is open */
body.modal-open {
  overflow: hidden;
}

/* Modal autofits device screen */
#productModal {
  display: none;
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.7);
  backdrop-filter: blur(8px);
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

/* Modal content responsive */
#productModal .modal-content.glassy {
  max-width: 100%;
  width: 95%;
  height: 95%;
  overflow-y: auto;
  display: flex;
  flex-direction: row;
  gap: 20px;
}

/* Center product image properly */
#productModal .viewer {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  margin: 0;
}
#productModal .viewer img {
  margin-left:800px;
  max-width: 100%;
  width:900px;
  height: 700px;
  margin: 0 auto;
  display: block;
  border-radius: 16px;
  object-fit: contain;
}

/* Details start immediately after image */
#productModal .modal-right {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  margin: 0;
  text-align: left;
}

/* Product specs auto-wrap */
#productModal #mSpecs li {
  word-wrap: break-word;
  overflow-wrap: break-word;
  white-space: normal;
  margin-bottom: 6px;
}

/* Responsive grid: 4 per row desktop */
#similarRow, #recentRow {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
}

/* Product cards inside modal */
#similarRow .p-card,
#recentRow .p-card {
  background: #0f1623;
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 14px;
  overflow: hidden;
  text-align: center;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
#similarRow .p-card:hover,
#recentRow .p-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.4);
}

/* Product meta text */
#similarRow .p-card .p-meta,
#recentRow .p-card .p-meta {
  font-size: 1.1rem;
  font-weight: 500;
  padding: 10px;
  color: #fff;
}
/* UNIVERSAL RESET & BASE */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
html, body {
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
}
body {
  font-family: system-ui, sans-serif;
  background: #0e0e0e;
  color: white;
}

/* CONTAINER FULL WIDTH ON ALL DEVICES */
.container {
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 1rem;
}


/* IMAGE RESPONSIVENESS */
img {
  width: 100%;
  height: auto;
  display: block;
  object-fit: cover;
}

/* GRID & ROW RESPONSIVENESS */
.grid,
.row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 6px;
  width: 100%;
}

/* SECTION PADDING */
.section {
  width: 100%;
  padding: 2px 0;
}

/* ======================================================
   HEADER BASE IMPROVEMENTS ‚Äî CLEAN, MODERN, PREMIUM
====================================================== */
header {
  background: linear-gradient(90deg, #1a1a1a, #232323);
  padding: 8px 0;
  position: sticky;
  top: 0;
  z-index: 999;
  backdrop-filter: blur(8px);
}

/* ===========================
   TOPBAR BASE
=========================== */
.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 6px 0;
  gap: 8px;
  position: relative;
}

.brand {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 1.1rem;
  font-weight: 700;
  color: white;
  text-decoration: none;
  letter-spacing: 0.5px;
  transition: opacity .2s ease;
}

.brand:hover {
  opacity: 0.85;
}

.brand svg {
  filter: drop-shadow(0 0 4px rgba(255,255,255,0.35));
}


/* ===========================
   SEARCH BAR
=========================== */
.search {
  position: relative;
  display: flex;
  align-items: center;
  flex: 1;
  max-width: 420px;
}

.search input {
  width: 100%;
  padding: 8px 36px 8px 12px;
  border: none;
  border-radius: 50px;
  background: rgba(255,255,255,0.2);
  backdrop-filter: blur(6px);
  color: white;
  font-size: 0.95rem;
  transition: background .25s ease, transform .2s ease;
}

.search input::placeholder {
  color: rgba(255,255,255,0.7);
}

.search input:focus {
  outline: none;
  background: rgba(255,255,255,0.28);
  transform: scale(1.01);
}

.search .icon {
  position: absolute;
  right: 12px;
  pointer-events: none;
}

.search .icon svg {
  opacity: 0.85;
}


/* ===========================
   ACTION BUTTONS
=========================== */
.actions {
  display: flex;
  align-items: center;
  gap: 10px;
}

.icon-btn {
  background: rgba(255,255,255,0.15);
  border-radius: 50%;
  width: 38px;
  height: 38px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background .25s ease, transform .25s ease;
  border: none;
}

.icon-btn svg {
  transition: transform .25s ease;
}

.icon-btn:hover {
  background: rgba(255,255,255,0.25);
  transform: scale(1.1);
}

.icon-btn:hover svg {
  transform: scale(1.15);
}


/* ===========================
   CART BADGE (PILL)
=========================== */
.pill {
  position: absolute;
  top: -5px;
  right: -5px;
  background: #ff0033;
  color: white;
  border-radius: 50%;
  font-size: 0.7em;
  padding: 2px 6px;
  font-weight: 600;
  box-shadow: 0 0 6px rgba(255,0,0,0.5);
}


/* ===========================
   CATEGORY NAV BAR
=========================== */
header nav {
  display: flex;
  gap: 14px;
  overflow-x: auto;
  white-space: nowrap;
  scrollbar-width: none;
  -ms-overflow-style: none;
  margin-top: 6px;
}

header nav::-webkit-scrollbar {
  display: none;
}

header nav a {
  color: white;
  text-decoration: none;
  font-size: 0.95rem;
  font-weight: 500;
  padding: 6px 12px;
  border-radius: 20px;
  transition: background .25s ease, color .25s ease;
}

header nav a:hover {
  background: rgba(255,255,255,0.22);
  color: white;
}


/* ===========================
   MOBILE TOPBAR IMPROVEMENTS
=========================== */
@media (max-width: 600px) {

  .topbar {
    flex-wrap: wrap;
    gap: 6px;
    padding: 4px 0;
  }

  /* Search full width */
  .search {
    order: 3;
    flex: 1 1 100%;
    max-width: 100%;
  }

  /* Icons grouped compact */
  .actions {
    gap: 6px;
  }

  .icon-btn {
    width: 34px;
    height: 34px;
  }

  /* Brand slightly smaller */
  .brand {
    font-size: 0.95rem;
  }

  /* Categories scroll neatly */
  header nav {
    margin-top: 8px;
    gap: 10px;
  }

  header nav a {
    font-size: 0.85rem;
    padding: 6px 10px;
  }
}



/* RESPONSIVE MEDIA QUERIES - 10 BREAKPOINTS */
@media (max-width: 1400px) { .container { max-width: 1200px; } }
@media (max-width: 1200px) { .container { max-width: 1000px; } }


@media (max-width: 768px)  { .grid { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); } }
@media (max-width: 600px)  { .topbar { flex-direction: column; } }
@media (max-width: 480px)  { h1, h2, h3 { font-size: 60%; } }
@media (max-width: 375px)  { .btn, input { font-size: 0.9rem; } }
@media (max-width: 320px)  { .container { padding: 0 0.5rem; } }
/********************************************
 * THEME TOGGLE ‚Äî LIGHT & DARK MODE SUPPORT
 ********************************************/

/* Smooth global transitions */
body, header, .card, .p-card, .mini-card, .modal-content {
  transition: background 0.35s ease, color 0.35s ease, border-color 0.35s ease;
}

/* === LIGHT THEME VARIABLES === */
:root.light {
  --bg: #f5f7fa;
  --card: #ffffff;
  --text: #1a1a1a;
  --muted: #4b5563;

  /* Vibrant headings */
  --heading-1: #0d6efd;
  --heading-2: #14b8a6;
  --heading-3: #e11d48;

  /* Buttons */
  --brand: #0d6efd;
  --brand-2: #22d3ee;
  --accent: #f59e0b;

  /* Light shadows */
  --shadow: 0 12px 32px rgba(0,0,0,0.08);
}

/* Light theme background fixes */
:root.light body {
  background: linear-gradient(180deg, #ffffff, #f1f5f9);
}

/* Light cards */
:root.light .card,
:root.light .p-card,
:root.light .mini-card,
:root.light .modal-content {
  background: #ffffff;
  border-color: rgba(0,0,0,0.08);
}

/* Text */
:root.light p,
:root.light span,
:root.light label,
:root.light .p-meta {
  color: #1a1a1a;
}

/* Headings pop with color */
:root.light h1 { color: var(--heading-1); }
:root.light h2 { color: var(--heading-2); }
:root.light h3 { color: var(--heading-3); }

/* Search bar */
:root.light .search input {
  background: #ffffff;
  border: 1px solid rgba(0,0,0,0.1);
  color: #111;
}

/* Navigation background */
:root.light header {
  background: rgba(255,255,255,0.85);
  border-bottom: 1px solid rgba(0,0,0,0.08);
  backdrop-filter: blur(10px);
}

/* Buttons */
:root.light .btn-primary {
  background: linear-gradient(135deg, var(--brand), var(--heading-1));
  color: #fff;
}

:root.light .btn-ghost {
  background: #ffffff;
  border: 1px solid rgba(0,0,0,0.15);
  color: #111;
}

/* Icons */
:root.light svg {
  stroke: #222 !important;
}

/* Pills */
:root.light .pill {
  background: var(--heading-1);
  color: #fff;
}

/* Light theme hover animations */
:root.light .card:hover,
:root.light .p-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 18px rgba(0,0,0,0.12);
}


/***********************
 * THEME TOGGLE SWITCH
 ***********************/
.theme-toggle {
  width: 52px;
  height: 26px;
  background: #0f1623;
  border-radius: 999px;
  position: relative;
  cursor: pointer;
  transition: background 0.35s ease;
  border: 1px solid rgba(255,255,255,0.2);
}

.theme-toggle .ball {
  width: 20px;
  height: 20px;
  background: white;
  border-radius: 50%;
  position: absolute;
  top: 3px;
  left: 3px;
  transition: transform 0.35s ease;
}

/* Light mode toggle animation */
:root.light .theme-toggle {
  background: #d1d5db;
  border-color: rgba(0,0,0,0.2);
}

:root.light .theme-toggle .ball {
  transform: translateX(26px);
}
    html, body {
  margin: 0 !important;
  padding: 0 !important;
}

body {
  padding-top: 0 !important;
}

header {
  display: none !important;
}

.navbar {
  top: 0 !important;
}
  </style>
</head>
<body>
  <header aria-label="Site header with navigation, search, cart, and wishlist">
    <div class="container">
      <div class="topbar">
        <a class="brand" href="#" aria-label="ShopSphere home">
          <span class="logo" aria-hidden="true">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="logo">
              <path d="M12 3l8 4v10l-8 4-8-4V7l8-4z" stroke="white" stroke-width="2">
              <circle cx="12" cy="12" r="3" fill="white"></circle>
            </svg>
          </span>
          <span>ShopSphere</span>
        </a>
        <div class="search" role="search">
          <label class="sr-only" for="searchInput"></label>
          <input id="searchInput" type="search" placeholder="Search products... (Furnitures)" aria-autocomplete="list" aria-haspopup="listbox" aria-expanded="false" aria-controls="acList">
          <div class="icon" aria-hidden="true">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="11" cy="11" r="7" stroke="white"><path d="M20 20l-3.5-3.5" stroke="white"></svg>
          </div>
          <div id="autocomplete" class="autocomplete" role="listbox" aria-label="Search suggestions"></div>
        </div>
        <div class="actions">
          <button class="icon-btn" id="openWishlist" aria-label="Open wishlist"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 21s-7-4.35-7-10a4 4 0 018-1 4 4 0 018 1c0 5.65-7 10-7 10z" stroke="white"></svg></button>
<!-- üõí Cart Button -->
<button class="icon-btn" id="openCart" aria-label="Open cart" title="View Cart">
  <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <circle cx="10" cy="20" r="1" fill="white">
    <circle cx="17" cy="20" r="1" fill="white">
    <path d="M3 4h2l2.4 12.5A2 2 0 009.37 18H18a2 2 0 001.96-1.6L22 8H6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
  </svg>
  <span id="cartCount" class="pill" aria-live="polite" aria-label="Items in cart">0</span>
</button><button onclick="logout()">Logout</button><!-- Theme Toggle -->
<div class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
  <div class="ball"></div>
</div>
<script>
  const toggle = document.getElementById("themeToggle");
  const root = document.documentElement;

  // Load saved preference
  if (localStorage.getItem("theme") === "light") {
    root.classList.add("light");
  }

  toggle.addEventListener("click", () => {
    root.classList.toggle("light");

    // Save preference
    if (root.classList.contains("light")) {
      localStorage.setItem("theme", "light");
    } else {
      localStorage.removeItem("theme");
    }
  });
</script>
<style>
.icon-btn {
  background: transparent;
  border: none;
  color: white;
  cursor: pointer;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.2s ease;
}

.icon-btn:hover {
  transform: scale(1.08);
}

.pill {
  position: absolute;
  top: -6px;
  right: -6px;
  background: red;
  color: white;
  border-radius: 50%;
  font-size: 0.7em;
  padding: 2px 6px;
  line-height: 1;
  font-weight: bold;
  min-width: 16px;
  text-align: center;
}
</style>
<script>
openCartBtn.addEventListener('click', () => {
  productSection.classList.add('hidden');
  cartPage.classList.remove('hidden');
  renderCart();
});</script>
          <button class="icon-btn" id="openAuth" aria-label="Open login/register"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="7" r="4" stroke="white"><path d="M4 21a8 8 0 0116 0" stroke="white"></svg></button>
        </div>
      </div>
      <nav aria-label="Primary categories">
        <a href="#">New Arrivals</a>
        <a href="#">Best Sellers</a>
        <a href="#">Men</a>
        <a href="#">Women</a>
        <a href="#">Accessories</a>
        <a href="#">Limited</a>
        <a href="#">Blog</a>
        <a href="#helpModal" id="openHelp">Help Center</a>
      </nav>
    </div>
  </header>  <main class="container" id="main">
    <!-- HERO: big left image (50%), four right cards (2x2) (50%), looping accessible slider -->
    <section class="hero" aria-label="Hero and featured">
      <div class="hero-left" id="heroSlider" aria-roledescription="carousel" aria-label="Promotions" tabindex="0">
        <img src="images/download-1.jpg" alt="Summer collection banner" loading="eager">
        <div class="hero-overlay">
          <div>
            <h1 style="margin:0 0 6px">Feel Good. Look Great.</h1>
            <p class="helper">Soft essentials, bold statements. Up to <strong>40% off</strong>.</p>
            <div class="hero-ctas">
              <button class="btn btn-primary" id="shopNow">Shop Now</button>
              <button class="btn btn-ghost" id="learnMore">Learn More</button>
            </div>
          </div>
        </div>
      </div>
      <div class="hero-right">
        <article class="mini-card" aria-label="Card 1">
          <img src="images/diningtable.jpg" alt="Eco tees" loading="lazy">
          <div>
            <h3 style="margin:6px 0">Eco Tees</h3>
            <p class="helper">Breathable, organic, everyday staples.</p>
          </div>
          <div class="foot"><span class="pill">New</span><button class="btn btn-ghost" data-cat="tees">Explore</button></div>
        </article>
        <article class="mini-card" aria-label="Card 2">
          <img src="images/dc6325d17f827ccfc274b04d65cd0421.jpg" alt="City sneakers" loading="lazy">
          <div>
            <h3 style="margin:6px 0">City Sneakers</h3>
            <p class="helper">Comfort meets performance.</p>
          </div>
          <div class="foot"><span class="pill" style="background:var(--accent);color:#1f1300">Deal</span><button class="btn btn-ghost" data-cat="sneakers">Shop</button></div>
        </article>
        <article class="mini-card" aria-label="Card 3">
          <img src="images/65761237_MzAwLTQwMC02NTVlNDMxMmMzLTE-338355277.jpg" alt="Athleisure sets" loading="lazy">
          <div>
            <h3 style="margin:6px 0">Athleisure Sets</h3>
            <p class="helper">Mix, match, move.</p>
          </div>
          <div class="foot"><span class="pill" style="background:#60a5fa;color:#001229">Popular</span><button class="btn btn-ghost" data-cat="athleisure">Browse</button></div>
        </article>
        <article class="mini-card" aria-label="Card 4">
          <img src="images/5ec68ce7dfef3e715640a318_cover-1230416600.jpg" alt="Accessories" loading="lazy">
          <div>
            <h3 style="margin:6px 0">Accessories</h3>
            <p class="helper">Finish the look.</p>
          </div>
          <div class="foot"><span class="pill" style="background:#f472b6;color:#240013">Hot</span><button class="btn btn-ghost" data-cat="accessories">See More</button></div>
        </article>
      </div>
    </section><!-- MEN FEATURED -->
<section class="section" aria-labelledby="menHeading">
  <h2 id="menHeading">Men ‚Ä¢ Featured</h2>
  <div class="grid mw" id="menGrid" aria-label="Men product grid">
    
    <!-- Product Card -->
    <div class="product-card">
      <img src="images/kitchen.jpg" alt="Classic White Shirt" class="product-img">
      <div class="product-info">
        <h3 class="product-title">Classic White Shirt</h3>
        <p class="product-price">$45.00</p>
        <div class="product-rating" aria-label="4 out of 5 stars">
          ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ
        </div>
        <div class="product-actions">
          <button class="btn add-cart" onclick="addToCart('Classic White Shirt')">Add to Cart</button>
          <button class="btn wishlist" onclick="addToWishlist('Classic White Shirt')">‚ô°</button>
          <button class="btn quickview" onclick="quickView('Classic White Shirt')">üëÅ Quick View</button>
        </div>
      </div>
    </div>

    <div class="product-card">
      <img src="images/sofa1.jpg" alt="Leather Sneakers" class="product-img">
      <div class="product-info">
        <h3 class="product-title">Leather Sneakers</h3>
        <p class="product-price">$89.99</p>
        <div class="product-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
        <div class="product-actions">
          <button class="btn add-cart" onclick="addToCart('Leather Sneakers')">Add to Cart</button>
          <button class="btn wishlist" onclick="addToWishlist('Leather Sneakers')">‚ô°</button>
          <button class="btn quickview" onclick="quickView('Leather Sneakers')">üëÅ Quick View</button>
        </div>
      </div>
    </div>

    <!-- Add more product cards dynamically via JS if needed -->
  </div>
</section>
<!-- JS -->
<script>
  function addToCart(product) {
    alert(product + " added to cart!");
    // integrate with cart system
  }

  function addToWishlist(product) {
    alert(product + " added to wishlist!");
    // integrate with wishlist system
  }

  function quickView(product) {
    alert("Quick view of " + product);
    // open product modal
  }
</script>

<section class="section" aria-labelledby="womenHeading">
  <h2 id="womenHeading">Women ‚Ä¢ Featured</h2>
  <div class="grid mw" id="womenGrid" aria-label="Women grid with one big and four small cards">
    <!-- populated via JS -->
  </div>
</section>
<!-- Dynamic sections: New Arrivals, Best Sellers, Special Offers, Most Liked -->
<section class="section" aria-label="Dynamic product rows">
  <div style="display:grid;gap:8px">
    <div style="display:flex;align-items:center;justify-content:space-between">
      <h2>New Arrivals</h2>
      <div class="carousel-ctl"><button class="btn btn-ghost" data-scroll="prev" data-target="#rowNew">‚óÄ</button><button class="btn btn-ghost" data-scroll="next" data-target="#rowNew">‚ñ∂</button></div>
    </div>
    <div id="rowNew" class="row" aria-label="New Arrivals carousel"></div>
  </div>

  <div style="display:grid;gap:8px;margin-top:18px">
    <div style="display:flex;align-items:center;justify-content:space-between">
      <h2>Best Sellers</h2>
      <div class="carousel-ctl"><button class="btn btn-ghost" data-scroll="prev" data-target="#rowBest">‚óÄ</button><button class="btn btn-ghost" data-scroll="next" data-target="#rowBest">‚ñ∂</button></div>
    </div>
    <div id="rowBest" class="row" aria-label="Best Sellers carousel"></div>
  </div>

  <div style="display:grid;gap:8px;margin-top:18px">
    <div style="display:flex;align-items:center;justify-content:space-between">
      <h2>Special Offers</h2>
      <div class="carousel-ctl"><button class="btn btn-ghost" data-scroll="prev" data-target="#rowDeals">‚óÄ</button><button class="btn btn-ghost" data-scroll="next" data-target="#rowDeals">‚ñ∂</button></div>
    </div>
    <div id="rowDeals" class="row" aria-label="Special Offers carousel"></div>
  </div>

  <div style="display:grid;gap:8px;margin-top:18px">
    <div style="display:flex;align-items:center;justify-content:space-between">
      <h2>Most Liked</h2>
      <div class="carousel-ctl"><button class="btn btn-ghost" data-scroll="prev" data-target="#rowLiked">‚óÄ</button><button class="btn btn-ghost" data-scroll="next" data-target="#rowLiked">‚ñ∂</button></div>
    </div>
    <div id="rowLiked" class="row" aria-label="Most Liked carousel"></div>
  </div>
</section><!-- ============================
  EXTRA PRODUCT SECTIONS
============================= -->

<section class="section" aria-label="Kitchen Section">
  <div style="display:flex;align-items:center;justify-content:space-between">
    <h2>Kitchen Essentials</h2>
    <div class="carousel-ctl">
      <button class="btn btn-ghost" data-scroll="prev" data-target="#rowKitchen">‚óÄ</button>
      <button class="btn btn-ghost" data-scroll="next" data-target="#rowKitchen">‚ñ∂</button>
    </div>
  </div>
  <div id="rowKitchen" class="row" aria-label="Kitchen carousel"></div>
</section>

<section class="section" aria-label="Home Section">
  <div style="display:flex;align-items:center;justify-content:space-between">
    <h2>Home Essentials</h2>
    <div class="carousel-ctl">
      <button class="btn btn-ghost" data-scroll="prev" data-target="#rowHome">‚óÄ</button>
      <button class="btn btn-ghost" data-scroll="next" data-target="#rowHome">‚ñ∂</button>
    </div>
  </div>
  <div id="rowHome" class="row" aria-label="Home carousel"></div>
</section>

<section class="section" aria-label="Office Section">
  <div style="display:flex;align-items:center;justify-content:space-between">
    <h2>Office</h2>
    <div class="carousel-ctl">
      <button class="btn btn-ghost" data-scroll="prev" data-target="#rowOffice">‚óÄ</button>
      <button class="btn btn-ghost" data-scroll="next" data-target="#rowOffice">‚ñ∂</button>
    </div>
  </div>
  <div id="rowOffice" class="row" aria-label="Office carousel"></div>
</section>

<section class="section" aria-label="Sports Section">
  <div style="display:flex;align-items:center;justify-content:space-between">
    <h2>Sports & Fitness</h2>
    <div class="carousel-ctl">
      <button class="btn btn-ghost" data-scroll="prev" data-target="#rowSports">‚óÄ</button>
      <button class="btn btn-ghost" data-scroll="next" data-target="#rowSports">‚ñ∂</button>
    </div>
  </div>
  <div id="rowSports" class="row" aria-label="Sports carousel"></div>
</section>

<section class="section" aria-label="Electronics Section">
  <div style="display:flex;align-items:center;justify-content:space-between">
    <h2>Electronics</h2>
    <div class="carousel-ctl">
      <button class="btn btn-ghost" data-scroll="prev" data-target="#rowElectronics">‚óÄ</button>
      <button class="btn btn-ghost" data-scroll="next" data-target="#rowElectronics">‚ñ∂</button>
    </div>
  </div>
  <div id="rowElectronics" class="row" aria-label="Electronics carousel"></div>
</section>

<style>
  :root {
  --radius: 12px;
  --radius-lg: 18px;
  --brand: #22c55e;
  --accent: #facc15;
  --text: #f3f4f6;
}

/* ---------- HERO CONTAINER ---------- */
.hero {
  display: grid;
  grid-template-columns: 1fr;
  gap: 18px;
  padding: 20px 0;
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
}

/* ---------- HERO LEFT (Main Slider) ---------- */
.hero-left {
  position: relative;
  border-radius: var(--radius-lg);
  overflow: hidden;
  height: clamp(220px, 35vw, 480px);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.hero-left:hover {
  transform: scale(1.01);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.3);
}

.hero-left img.slide {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0;
  transition: opacity 1s ease-in-out;
}

.hero-left img.slide.active {
  opacity: 1;
  z-index: 1;
}

/* ---------- SLIDER OVERLAY ---------- */
.hero-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(0, 0, 0, .0), rgba(0, 0, 0, .6));
  display: flex;
  align-items: flex-end;
  padding: 22px;
  color: white;
}

.hero-overlay h1 {
  font-size: clamp(1.4rem, 3vw, 2.4rem);
  font-weight: 800;
  margin: 0 0 6px;
}

.hero-overlay .helper {
  opacity: 0.85;
  font-size: clamp(0.85rem, 1.5vw, 1rem);
}

.hero-ctas {
  display: flex;
  gap: 12px;
  margin-top: 10px;
}

.btn {
  width: 180px;
  padding: 10px 18px;
  border-radius: 12px;
  border: 0;
  cursor: pointer;
  font-weight: 700;
  transition: all 0.3s ease;
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,.2);
}

.btn-primary {
  background: linear-gradient(135deg, var(--brand), #16a34a);
  color: #04120b;
}

.btn-ghost {
  background: transparent;
  border: 1px solid rgba(255,255,255,.15);
  color: var(--text);
}

/* ---------- HERO RIGHT (Mini Cards Grid) ---------- */
.hero-right {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 14px;
  width: 100%;
}

.mini-card {
  background: #0f1623;
  border: 1px solid rgba(255,255,255,.08);
  border-radius: var(--radius);
  padding: 14px;
  display: grid;
  grid-template-rows: auto 1fr auto;
  gap: 10px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.mini-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 4px 12px rgba(0,0,0,.3);
}

.mini-card img {
  border-radius: 12px;
  aspect-ratio: 1/1;
  object-fit: cover;
  width: 100%;
  height: auto;
}

.mini-card .foot {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.pill {
  background: rgba(255,255,255,0.15);
  padding: 4px 10px;
  border-radius: 8px;
  font-size: 12px;
}

/* ---------- RESPONSIVE LAYOUTS ---------- */

/* ‚úÖ Medium Devices (1200px and below) */
@media (max-width: 1200px) {
  .hero-right {
    grid-template-columns: repeat(4, 1fr);
  }

  .mini-card {
    padding: 12px;
  }

  .hero-left {
    height: clamp(200px, 40vw, 420px);
  }
}

/* ‚úÖ Tablets (992px and below) */
@media (max-width: 992px) {
  .hero-right {
    grid-template-columns: repeat(3, 1fr);
  }

  .hero {
    gap: 14px;
  }

  .mini-card img {
    aspect-ratio: 1.1/1;
  }
}

/* ‚úÖ Mobile Large (768px and below) */
@media (max-width: 768px) {
  .hero {
    grid-template-columns: 1fr;
  }

  .hero-left {
    height: clamp(180px, 50vw, 360px);
  }

  .hero-right {
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
  }

  .btn {
    width: 100%;
    font-size: 14px;
    padding: 9px 12px;
  }

  .hero-ctas {
    flex-direction: column;
    align-items: flex-start;
  }
}

/* ‚úÖ Small Phones (600px and below ‚Äî includes Infinix i40) */
@media (max-width: 600px) {
  .hero {
    grid-template-columns: 1fr;
    gap: 10px;
  }

  .hero-left {
    height: clamp(160px, 55vw, 300px);
  }

  .hero-right {
    grid-template-columns: repeat(5, minmax(60px, 1fr));
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    scrollbar-width: none;
  }

  .hero-right::-webkit-scrollbar {
    display: none;
  }

  .mini-card {
    min-width: 120px;
    scroll-snap-align: start;
    padding: 10px;
    border-radius: 10px;
  }

  .mini-card img {
    aspect-ratio: 1/1;
  }

  .hero-left, .mini-card {
    opacity: 0;
    transform: translateY(15px);
    animation: fadeSlideUp 0.6s ease forwards;
  }

  .mini-card:nth-child(2) { animation-delay: 0.1s; }
  .mini-card:nth-child(3) { animation-delay: 0.2s; }
  .mini-card:nth-child(4) { animation-delay: 0.3s; }

  @keyframes fadeSlideUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

/* ‚úÖ Ultra Small Devices (480px and below) */
@media (max-width: 480px) {
  .hero-left {
    height: 220px;
  }

  .mini-card {
    min-width: 100px;
  }

  .hero-overlay h1 {
    font-size: 1.2rem;
  }
}

/* ---------- HERO SLIDER ANIMATION ---------- */
@keyframes fadeInOut {
  0% { opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { opacity: 0; }
}
</style>
<!-- Promos / Testimonials / Blog teasers -->
<section class="section" aria-label="Promos, testimonials, blog">
  <div class="grid" style="grid-template-columns:2fr 1fr 1fr;gap:16px">
    <div class="card" style="padding:18px">
      <h3>Subscriber Perks</h3>
      <p class="helper">Join the list for early access drops and members-only deals.</p>
      <form id="newsletterForm" aria-label="Newsletter signup">
        <div class="field"><label for="newsEmail">Email</label><input id="newsEmail" type="email" placeholder="you@domain.com" required aria-required="true" aria-label="Email address"></div>
        <div class="field"><label><input type="checkbox" required aria-required="true"> I agree to receive emails.</label></div>
        <button class="btn btn-primary" type="submit">Sign Up</button>
      </form>
      <div class="trust" style="margin-top:14px" aria-label="Trust badges">
        <div class="badge" title="Secure checkout">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 3l7 4v5a7 7 0 11-14 0V7l7-4z" stroke="white"></svg>
          <span>Secure Checkout</span>
        </div>
        <div class="badge" title="Free returns"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 12a9 9 0 1115.9 6.1" stroke="white"><path d="M3 12h6M3 12l2-2M3 12l2 2" stroke="white"></svg><span>Free Returns</span></div>
        <div class="badge" title="24/7 support"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="9" stroke="white"><path d="M8 12h8M12 8v8" stroke="white"></svg><span>24/7 Support</span></div>
        <div class="badge" title="Privacy first"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l7 4v5c0 5-4.03 9-9 9S1 16 1 11V6l11-4z" stroke="white"></svg><span>Privacy First</span></div>
      </div>
      <div class="helper" style="margin-top:8px">We respect accessibility: ARIA labels, semantic HTML, and keyboard support are built-in.</div>
    </div>
    <div class="card" style="padding:18px">
      <h3>What Customers Say</h3>
      <blockquote class="helper">‚ÄúQuality is stellar and delivery was fast. My go-to store now.‚Äù ‚Äî <strong>Ada</strong></blockquote>
      <blockquote class="helper">‚ÄúLove the eco materials and the fit.‚Äù ‚Äî <strong>Sam</strong></blockquote>
      <blockquote class="helper">‚ÄúCheckout was easy, support was helpful.‚Äù ‚Äî <strong>Kim</strong></blockquote>
    </div>
    <div class="card" style="padding:18px">
      <h3>From the Blog</h3>
      <ul>
        <li><a href="#">How to build a minimalist wardrobe</a></li>
        <li><a href="#">Caring for organic cotton</a></li>
        <li><a href="#">Sneaker trends this fall</a></li>
      </ul>
    </div>
  </div>
</section>

<!-- Payment badges / SEO note / accessibility touches visible -->
<section class="section" aria-label="Payment methods">
  <h2>Pay Your Way</h2>
  <div class="trust">
    <div class="badge" title="Visa">VISA</div>
    <div class="badge" title="Mastercard">Mastercard</div>
    <div class="badge" title="Amex">Amex</div>
    <div class="badge" title="Apple Pay">Apple&nbsp;Pay</div>
    <div class="badge" title="Google Pay">Google&nbsp;Pay</div>
    <div class="badge" title="PayPal">PayPal</div>
  </div>
  <p class="helper">Secure checkout placeholder: PCI-aware gateways, tokenization, and HTTPS are expected in production.</p>
</section>

  </main>  <!-- PRODUCT MODAL (as requested snippet) -->  <div class="product-modal" id="productModal" role="dialog" aria-modal="true" aria-label="Product details">
    <div class="modal-content">
      <button class="close-btn" id="modalClose" aria-label="Close product dialog">&times;</button>
      <div class="modal-left" id="modalLeft">
        <div class="viewer" id="viewer"><img src="" alt="Product image" id="viewerImg"></div>
        <div class="related-carousel" id="relatedCarousel" aria-label="Related products thumbnails"><!-- related items --></div>
      </div>
      <div class="modal-right" id="modalRight">
        <h2 id="mTitle">Product Title</h2>
        <div class="stars" id="mStars" aria-label="Rating"></div>
        <div class="price" id="mPrice">$0.00</div>
        <div class="helper" id="mSku">SKU: ‚Äî</div>
        <div class="options" id="mVariants" aria-label="Variants"></div>
        <div class="qty"><label for="mQty">Qty</label><input id="mQty" type="number" min="1" value="1" style="width:72px"></div>
        <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:6px">
          <button class="btn btn-primary" id="mAddCart">Add to Cart</button>
          <button class="btn btn-ghost" id="mBuyNow">Buy Now</button>
          <button class="btn btn-ghost" id="mWishlist">‚ô° Wishlist</button>
        </div><div class="tabs" role="tablist">
      <button role="tab" aria-selected="true" data-tab="desc">Description</button>
      <button role="tab" aria-selected="false" data-tab="specs">Specs</button>
      <button role="tab" aria-selected="false" data-tab="shipping">Shipping & Returns</button>
      <button role="tab" aria-selected="false" data-tab="faq">FAQs</button>
    </div>
    <div class="panel" id="panel-desc">
      <p id="mDesc"></p>
      <p id="mDescLong" class="helper"></p>
    </div>
    <div class="panel" id="panel-specs" hidden>
      <ul id="mSpecs"></ul>
    </div>
    <div class="panel" id="panel-shipping" hidden>
      <p>We ship worldwide with real‚Äëtime rates, accurate ETAs, and paperless returns. Free 30‚Äëday returns on unworn items. Refunds back to original payment method.</p>
    </div>
    <div class="panel" id="panel-faq" hidden>
      <details><summary>What sizes should I choose?</summary><p>Use the size guide in variants. We match standard US/EU sizing.</p></details>
      <details><summary>How do returns work?</summary><p>Start in your account or the Returns modal. Print‚Äëfree QR drop‚Äëoff options available.</p></details>
    </div>

    <!-- Recently viewed -->
    <div class="panel">
      <h3>Recently Viewed</h3>
      <div id="recentRow" class="row" aria-label="Recently viewed products"></div>
    </div>

    <!-- Similar products -->
    <div class="panel">
      <h3>Similar Products</h3>
      <div id="similarRow" class="row" aria-label="Similar products"></div>
    </div>

    <!-- Reviews -->
    <div class="reviews panel">
      <h3>Reviews</h3>
      <div id="reviewList"></div>
      <textarea id="reviewInput" placeholder="Write a review..." style="width:100%;margin-top:.5rem"></textarea>
      <button id="submitReview" class="btn btn-primary" style="margin-top:.25rem">Submit</button>
    </div>
  </div>
</div>

  </div> 
 

<!-- ‚úÖ CART SLIDE-IN PAGE -->
<section id="cart-page" class="cart-slide hidden" aria-label="Shopping Cart">
  <div class="cart-wrapper">
    <header class="cart-header">
      <h2>Shopping Cart</h2>
      <button id="close-cart" class="btn-ghost" aria-label="Close cart">‚úï</button>
    </header>

    <div class="cart-content">
      <!-- CART TABLE -->
      <div class="cart-table">
        <div class="cart-table-head">
          <span>Product</span>
          <span>Unit Price</span>
          <span>Quantity</span>
          <span>Subtotal</span>
        </div>
        <div id="cart-list" class="cart-items"></div>
        <div id="cart-empty" class="cart-empty">Your cart is empty.</div>
      </div>

      <!-- CART SUMMARY -->
      <div class="cart-summary">
        <h3>Order Summary</h3>
        <div class="summary-line"><span>Subtotal:</span><span id="subtotal-amount">$0.00</span></div>
        <div class="summary-line"><span>Shipping:</span><span id="shipping-amount">$0.00</span></div>
        <div class="summary-line"><span>Tax:</span><span id="tax-amount">$0.00</span></div>
        <div class="summary-line"><span>Discount:</span><span id="discount-amount">$0.00</span></div>
        <hr>
        <div class="summary-total"><strong>Total:</strong><strong id="total-amount">$0.00</strong></div>

        <div class="cart-actions">
          <input type="text" id="promo-input" placeholder="Promo code">
          <button id="apply-promo" class="btn">Apply</button>
        </div>

        <div class="cart-address">
          <h4>Delivery Address</h4>
          <select id="address-select"></select>
          <button id="add-address-btn" class="btn-ghost">+ Add Address</button>
        </div>

        <div class="cart-checkout">
          <h4>Payment Method</h4>
          <select id="payment-select">
            <option value="stripe">üí≥ Stripe</option>
            <option value="mpesa">üì± M-Pesa</option>
            <option value="airtel">üìû Airtel Money</option>
          </select>
          <button id="checkout-button" class="btn primary">Proceed to Checkout</button>
        </div>
      </div>
    </div>

    <!-- RECOMMENDATIONS -->
    <section class="recommend-section">
      <h3>You Might Also Like</h3>
      <div id="recommend-row" class="recommend-row"></div>
    </section>

    <!-- CUSTOMER REVIEWS -->
    <section class="review-section">
      <h3>What Our Customers Say</h3>
      <div id="review-list" class="review-list"></div>
    </section>
  </div>
</section>
<style>
.hidden { display: none !important; }

/* --- CART SLIDE-IN --- */
.cart-slide {
  position: fixed;
  top: 70px; /* keep navbar visible */
  right: 0;
  width: 100%;
  height: calc(100vh - 70px);
  background: var(--bg, #fff);
  color: var(--text, #111);
  overflow-y: auto;
  z-index: 999;
  transform: translateX(100%);
  transition: transform 0.5s ease-in-out, opacity 0.4s;
  opacity: 0;
}
.cart-slide.active {
  transform: translateX(0);
  opacity: 1;
}
.fade-out {
  opacity: 0.2;
  pointer-events: none;
  transition: opacity 0.3s ease;
}

.cart-wrapper {
  max-width: 1000px;
  margin: auto;
  padding: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.cart-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.cart-content {
  display: flex;
  flex-wrap: wrap;
  gap: 1.5rem;
}

.cart-table {
  flex: 2;
  min-width: 60%;
}

.cart-summary {
  flex: 1;
  min-width: 300px;
  background: #fafafa;
  padding: 1rem;
  border-radius: 12px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.1);
}

.cart-table-head, .cart-item {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr;
  align-items: center;
  gap: 1rem;
}
.cart-table-head {
  font-weight: bold;
  padding-bottom: 6px;
  border-bottom: 2px solid #eee;
}

.cart-items { display: grid; gap: 12px; }
.cart-item {
  padding: 8px;
  border-bottom: 1px solid #eee;
}
.cart-item img {
  width: 60px;
  height: 60px;
  border-radius: 8px;
  object-fit: cover;
}
.cart-item-name {
  display: flex;
  align-items: center;
  gap: 10px;
}
.cart-empty {
  text-align: center;
  color: #777;
  padding: 1.5rem 0;
}

.summary-line, .summary-total {
  display: flex;
  justify-content: space-between;
  margin: 6px 0;
}
.summary-total {
  font-size: 1.1em;
}

.cart-actions, .cart-address, .cart-checkout {
  margin-top: 1rem;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.btn, .btn-ghost {
  cursor: pointer;
  border-radius: 8px;
  padding: 8px 12px;
  border: none;
  font-weight: 600;
}
.btn { background: #007bff; color: #fff; }
.btn:hover { background: #0056b3; }
.btn-ghost { background: transparent; border: 1px solid #ccc; color: #333; }
.primary { background: #28a745; }

.recommend-section, .review-section {
  margin-top: 2rem;
}
.recommend-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 12px;
}
.recommend-item {
  background: #f8f9fa;
  border-radius: 10px;
  padding: 10px;
  text-align: center;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}
.recommend-item img {
  width: 100%;
  border-radius: 10px;
  height: 120px;
  object-fit: cover;
}
.review-list {
  display: grid;
  gap: 10px;
}
.review-card {
  background: #f1f1f1;
  padding: 12px;
  border-radius: 8px;
}
.review-card strong { display: block; margin-bottom: 4px; }
</style>
<script>
  const openCartBtn = document.getElementById('openCart');
  const cartPage = document.getElementById('cart-page');
  const productSection = document.getElementById('product-section');
  const closeCartBtn = document.getElementById('close-cart');
  const cartList = document.getElementById('cart-list');
  const cartEmpty = document.getElementById('cart-empty');
  const subtotalEl = document.getElementById('subtotal-amount');
  const shippingEl = document.getElementById('shipping-amount');
  const taxEl = document.getElementById('tax-amount');
  const discountEl = document.getElementById('discount-amount');
  const totalEl = document.getElementById('total-amount');
  const promoInput = document.getElementById('promo-input');
  const applyPromoBtn = document.getElementById('apply-promo');
  const addressSelect = document.getElementById('address-select');
  const addAddressBtn = document.getElementById('add-address-btn');
  const paymentSelect = document.getElementById('payment-select');
  const checkoutBtn = document.getElementById('checkout-button');
  const cartCount = document.getElementById('cartCount');

  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  let addresses = JSON.parse(localStorage.getItem('addresses')) || [];
  let appliedPromo = null;

  // --- OPEN & CLOSE CART ---
  openCartBtn.addEventListener('click', () => {
    cartPage.classList.add('active');
    productSection.classList.add('fade-out');
    renderCart();
    renderRecommendations();
    renderReviews();
  });
  closeCartBtn.addEventListener('click', () => {
    cartPage.classList.remove('active');
    productSection.classList.remove('fade-out');
  });

  // --- SAVE CART ---
  function saveCart() {
    localStorage.setItem('cart', JSON.stringify(cart));
    updateBadge();
  }

  function updateBadge() {
    const count = cart.reduce((a, b) => a + b.qty, 0);
    cartCount.textContent = count;
  }

  // --- RENDER CART ITEMS ---
  function renderCart() {
    cartList.innerHTML = '';
    if (cart.length === 0) {
      cartEmpty.style.display = 'block';
      return;
    }
    cartEmpty.style.display = 'none';
    cart.forEach((item, i) => {
      const div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `
        <div class="cart-item-name">
          <img src="${item.image}" alt="${item.name}">
          <span>${item.name}</span>
        </div>
        <span>$${item.price.toFixed(2)}</span>
        <div>
          <button class="btn-ghost" onclick="changeQty(${i}, -1)">‚àí</button>
          <span>${item.qty}</span>
          <button class="btn-ghost" onclick="changeQty(${i}, 1)">+</button>
        </div>
        <span>$${(item.price * item.qty).toFixed(2)}</span>
      `;
      cartList.appendChild(div);
    });
    calculateTotals();
  }

  function changeQty(i, delta) {
    cart[i].qty += delta;
    if (cart[i].qty <= 0) cart.splice(i, 1);
    saveCart();
    renderCart();
  }

  // --- TOTAL CALCULATION ---
  function calculateTotals() {
    let subtotal = cart.reduce((s, i) => s + i.price * i.qty, 0);
    let shipping = subtotal > 50 ? 0 : 5;
    let tax = subtotal * 0.05;
    let discount = appliedPromo ? appliedPromo.amount || 0 : 0;
    let total = subtotal + shipping + tax - discount;

    subtotalEl.textContent = '$' + subtotal.toFixed(2);
    shippingEl.textContent = '$' + shipping.toFixed(2);
    taxEl.textContent = '$' + tax.toFixed(2);
    discountEl.textContent = '-$' + discount.toFixed(2);
    totalEl.textContent = '$' + total.toFixed(2);
  }

  // --- PROMO CODES ---
  const promoCodes = { SAVE10: { type: 'percent', value: 10 }, FREESHIP: { type: 'flat', value: 5 } };
  applyPromoBtn.addEventListener('click', () => {
    const code = promoInput.value.trim().toUpperCase();
    if (promoCodes[code]) {
      const promo = promoCodes[code];
      appliedPromo = {
        code,
        amount: promo.type === 'percent'
          ? (cart.reduce((s, i) => s + i.price * i.qty, 0) * promo.value) / 100
          : promo.value
      };
      alert(`Promo ${code} applied!`);
    } else {
      appliedPromo = null;
      alert('Invalid promo code');
    }
    calculateTotals();
  });

  // --- ADDRESS ---
  function renderAddresses() {
    addressSelect.innerHTML = '';
    if (addresses.length === 0) {
      const opt = document.createElement('option');
      opt.text = 'No addresses added';
      addressSelect.add(opt);
      return;
    }
    addresses.forEach((a, i) => {
      const opt = document.createElement('option');
      opt.text = `${a.name} - ${a.location}`;
      opt.value = i;
      addressSelect.add(opt);
    });
  }

  addAddressBtn.addEventListener('click', () => {
    const name = prompt('Recipient name:');
    const location = prompt('Delivery location:');
    if (!name || !location) return;
    addresses.push({ name, location });
    localStorage.setItem('addresses', JSON.stringify(addresses));
    renderAddresses();
  });

  // --- CHECKOUT ---
  checkoutBtn.addEventListener('click', () => {
    const payment = paymentSelect.value;
    if (cart.length === 0) return alert('Cart is empty.');
    alert(`Checkout via ${payment.toUpperCase()} in progress...`);
    localStorage.removeItem('cart');
    cart = [];
    saveCart();
    renderCart();
  });

  // --- RECOMMENDATIONS ---
  const recommendRow = document.getElementById('recommend-row');
  function renderRecommendations() {
    const demoProducts = [
      { name: 'Sneakers X1', price: 49.99, image: 'https://via.placeholder.com/150' },
      { name: 'Wireless Earbuds', price: 29.99, image: 'https://via.placeholder.com/150' },
      { name: 'Smartwatch Pro', price: 89.99, image: 'https://via.placeholder.com/150' },
    ];
    recommendRow.innerHTML = '';
    demoProducts.forEach(p => {
      const div = document.createElement('div');
      div.className = 'recommend-item';
      div.innerHTML = `
        <img src="${p.image}" alt="${p.name}">
        <h4>${p.name}</h4>
        <p>$${p.price}</p>
        <button class="btn" onclick="addToCart('${p.name}', ${p.price}, '${p.image}')">Add to Cart</button>
      `;
      recommendRow.appendChild(div);
    });
  }

  function addToCart(name, price, image) {
    const existing = cart.find(i => i.name === name);
    if (existing) existing.qty++;
    else cart.push({ name, price, qty: 1, image });
    saveCart();
    renderCart();
  }

  // --- REVIEWS ---
  const reviewList = document.getElementById('review-list');
  function renderReviews() {
    const demoReviews = [
      { user: 'Jane D.', text: 'Great products and fast delivery!' },
      { user: 'Mark T.', text: 'Excellent customer service and packaging.' },
      { user: 'Sophia L.', text: 'Loved the recommendations, very accurate!' },
    ];
    reviewList.innerHTML = '';
    demoReviews.forEach(r => {
      const div = document.createElement('div');
      div.className = 'review-card';
      div.innerHTML = `<strong>${r.user}</strong><p>${r.text}</p>`;
      reviewList.appendChild(div);
    });
  }

  renderAddresses();
  renderCart();
  updateBadge();
  window.changeQty = changeQty;
  window.addToCart = addToCart;
</script><style>
/* ===== BASE PRODUCT GRID ===== */
.section .row {      
  display: grid;      
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));      
  gap: 12px;      
  padding: 10px;
}      

/* ===== CARD ===== */
.p-card {      
  background: #fff;      
  border-radius: 14px;      
  box-shadow: 0 4px 14px rgba(0,0,0,0.12);      
  overflow: hidden;
  transition: transform .25s ease, box-shadow .25s ease;
  display: flex;
  flex-direction: column;
}      

/* Hover animation */
.p-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.18);
}

/* ===== PRODUCT IMAGE (2/3 of card) ===== */
.p-card img {      
  width: 100%;      
  height: 66%;      
  object-fit: cover;      
  border-radius: 0;      
  transition: transform .35s ease;
}      

/* Image zoom effect */
.p-card:hover img {
  transform: scale(1.05);
}

/* ===== PRODUCT CONTENT (1/3 of card) ===== */
.p-meta {
  padding: 10px;
  text-align: left;
}

/* Product title */
.p-meta h3 {      
  font-size: 1rem;      
  margin: 6px 0;      
  font-weight: 600;
  color: #222;
  overflow: hidden;      
  text-overflow: ellipsis;      
  white-space: nowrap;
}

/* Price */
.price {      
  font-weight: 700;      
  margin: 4px 0;      
  font-size: 1rem;
  color: #e60023;
}

/* Rating Stars */
.rating {
  font-size: 0.45rem;
  color: #ffb400;
  margin-bottom: 6px;
}

/* ===== BUTTONS ===== */
.btn {      
  padding: 6px 12px;      
  border-radius: 8px;      
  cursor: pointer;
  border: none;
  font-size: 0.85rem;
  font-weight: 600;
  transition: background .25s ease, transform .25s ease;
  width: 48%;
}      

.btn-primary {      
  background: #007bff;      
  color: #fff;      
}      

.btn-primary:hover {
  background: #005ad1;
  transform: scale(1.04);
}

.btn-ghost {      
  background: #f1f1f1;
  color: #333;
}      

.btn-ghost:hover {
  background: #e0e0e0;
  transform: scale(1.04);
}

/* Button container */
.btn-group {
  display: flex;
  justify-content: space-between;
  margin-top: 8px;
}


/* ========================================================= */
/* ====================== MOBILE VIEW ====================== */
/* ========================================================= */

@media (max-width: 600px) {

  .section .row {      
    grid-template-columns: repeat(2, 1fr);    
    gap: 8px;
  }  

  .p-card {
    border-radius: 10px;
  }

  .p-card img {    
    height: 62%;
  }  

  .p-meta {
    padding: 6px;
  }

  .p-meta h3 {    
    font-size: 0.75rem;    
    height: 28px;
  }  

  .price {  
    font-size: 0.85rem;  
  }  

  .rating {  
    font-size: 0.5rem;  
  }  

  .btn {  
    padding: 4px;  
    font-size: 0.7rem;  
    border-radius: 6px;
  }
}
</style>
  <div class="modal" id="wishlistModal" role="dialog" aria-label="Wishlist" aria-modal="true">
    <div class="box">
      <div style="display:flex;justify-content:space-between;align-items:center"><h3>Your Wishlist</h3><button class="btn btn-ghost" data-close="#wishlistModal">Close</button></div>
      <div id="wishlistItems" class="panel"></div>
    </div>
  </div> <script>
  function logCustomerActivity(name, email, activity) {
    const all = JSON.parse(localStorage.getItem("customerActivities") || "[]");

    all.push({
      name,
      email,
      activity,
      date: new Date().toLocaleString()
    });

    localStorage.setItem("customerActivities", JSON.stringify(all));
  }

  // Example usage whenever a customer performs an action
  // logCustomerActivity("John Doe", "john@gmail.com", "Added item to cart");
</script><!-- FULL UPDATED HTML + CSS + JS WITH RESPONSIVE TOP + BOTTOM NAVIGATION, CHAT MODAL, LOCATION BUTTON, DARK MODE --><!-- BOTTOM NAVIGATION BAR FOR MOBILE --><div class="bottom-nav">
<a href="#" class="bn-item"><i class="ri-home-4-fill"></i><span>Home</span></a>
<a href="#" class="bn-item"><i class="ri-layout-grid-fill"></i><span>Categories</span></a>
<a href="cart.html" class="bn-item"><i class="ri-shopping-cart-2-fill"></i><span>Cart</span></a>
<a href="wishlist.html" class="bn-item"><i class="ri-heart-3-fill"></i><span>Wishlist</span></a>
<a href="account.html" id="openAccount" class="bn-item"><i class="ri-user-3-fill"></i><span>Account</span></a>

</div><style>
:root { --brand:#00d38b; --brand-2:#0affc7; --text:#fff; }
body { margin:0; font-family:system-ui; background:#0f1623; color:white; }
.bottom-nav { position:fixed; bottom:0; left:0; right:0; height:64px; background:rgba(10,14,22,.9); backdrop-filter:blur(10px); border-top:1px solid rgba(255,255,255,.08); display:flex; justify-content:space-around; align-items:center; z-index:9999; }
.bn-item { display:flex; flex-direction:column; align-items:center; font-size:11px; color:white; text-decoration:none; }
.bn-item i { font-size:22px; margin-bottom:2px; }
.icon-home::before{content:"";} .icon-grid::before{content:"üî≥";} .icon-cart::before{content:"üõí";} .icon-heart::before{content:"‚ù§Ô∏è";} .icon-user::before{content:"üë§";}

/* MOBILE ONLY */
@media(min-width:768px){ .bottom-nav{ display:none; }}
</style> <div class="modal" id="authModal" role="dialog" aria-label="Account" aria-modal="true">
    <div class="box">
      <div style="display:flex;gap:10px">
        <button class="btn btn-ghost" data-auth-tab="login">Login</button>
        <button class="btn btn-ghost" data-auth-tab="register">Register</button>
        <button class="btn btn-ghost" data-auth-tab="reset">Reset</button>
      </div>
      <div id="authPanels">
        <form id="loginForm" aria-label="Login" class="panel" style="margin-top:10px">
          <div class="field"><label for="lEmail">Email</label><input id="lEmail" type="email" required ></div>
          <div class="field"><label for="lPass">Password</label><input id="lPass" type="password" required ></div>
          <div class="field"><label for="l2fa">2FA Code (optional)</label><input id="l2fa" inputmode="numeric" pattern="[0-9]*" placeholder="123456" ></div>
          <div class="field"><label for="lCaptcha">Captcha: <span id="lCaptchaQ"></span></label><input id="lCaptcha" required aria-describedby="lHelp"><div id="lHelp" class="helper">Prove you‚Äôre human</div></div>
          <button class="btn btn-primary" type="submit">Login</button>
        </form><form id="regForm" aria-label="Register" class="panel" hidden>
      <div class="field"><label for="rName">Name</label><input id="rName" required></div>
      <div class="field"><label for="rEmail">Email</label><input id="rEmail" type="email" required></div>
      <div class="field"><label for="rPass">Password</label><input id="rPass" type="password" required></div>
      <div class="field"><label for="rCaptcha">Captcha: <span id="rCaptchaQ"></span></label><input id="rCaptcha" required></div>
      <button class="btn btn-primary" type="submit">Create account</button>
    </form>

    <form id="resetForm" aria-label="Reset password" class="panel" hidden>
      <div class="field"><label for="xEmail">Email</label><input id="xEmail" type="email" required></div>
      <div class="field"><label for="xCaptcha">Captcha: <span id="xCaptchaQ"></span></label><input id="xCaptcha" required></div>
      <button class="btn btn-primary" type="submit">Send reset link</button>
    </form>
  </div>
</div>

  </div>  <div class="modal" id="helpModal" role="dialog" aria-label="Help center" aria-modal="true">
    <div class="box">
      <div style="display:flex;gap:10px">
        <button class="btn btn-ghost" data-help-tab="contact">Contact</button>
        <button class="btn btn-ghost" data-help-tab="returns">Returns/Refunds</button>
        <button class="btn btn-ghost" data-help-tab="tracking">Order Tracking</button>
      </div>
      <div id="helpPanels" style="margin-top:10px">
        <form id="contactForm" class="panel" aria-label="Contact us">
          <div class="field"><label for="cName">Name</label><input id="cName" required></div>
          <div class="field"><label for="cEmail">Email</label><input id="cEmail" type="email" required></div>
          <div class="field"><label for="cMsg">Message</label><textarea id="cMsg" rows="4" required></textarea></div>
          <button class="btn btn-primary" type="submit">Send</button>
        </form>
        <form id="returnsForm" class="panel" hidden aria-label="Returns">
          <div class="field"><label for="rOrder">Order #</label><input id="rOrder" required></div>
          <div class="field"><label for="rReason">Reason</label><select id="rReason"><option>Too large</option><option>Too small</option><option>Damaged</option><option>Changed mind</option></select></div>
          <button class="btn btn-primary" type="submit">Start Return</button>
        </form>
        <form id="trackForm" class="panel" hidden aria-label="Order tracking">
          <div class="field"><label for="tOrder">Order #</label><input id="tOrder" required></div>
          <button class="btn btn-primary" type="submit">Track</button>
          <div id="trackResult" class="helper" style="margin-top:8px"></div>
        </form>
      </div>
    </div>
  </div>  <footer style="background:#0f1623; padding:20px; text-align:center; color:#ccc; margin-top:40px;">
    <p>¬© 2025 Sorix. All Rights Reserved.</p>
    <p>
        <a href="legal.html" style="color:#16a34a; text-decoration:none; font-weight:600;">
            Legal Information & Policies
        </a>
    </p>

    <div class="container">
      <div class="cols">
        <div>
          <h4>About</h4>
          <p class="helper">Ethically made apparel & gear. Built for comfort, designed for impact.</p>
        </div>
        <div>
          <h4>Help</h4>
          <ul>
            <li><a href="#helpModal" id="openHelp2">Contact & FAQ</a></li>
            <li><a href="#">Shipping & Returns</a></li>
            <li><a href="#">Privacy</a></li>
            <li><a href="#">Terms</a></li>
          </ul>
        </div>
        <div>
          <h4>Account</h4>
          <ul>
            <li><a href="#authModal" id="openAuth2">Login</a></li>
            <li><a href="#">Orders</a></li>
            <li><a href="#">Wishlist</a></li>
          </ul>
        </div>
        <div>
          <h4>Follow</h4>
          <ul>
            <li><a href="#">Instagram</a></li>
            <li><a href="#">Twitter</a></li>
            <li><a href="#">YouTube</a></li>
          </ul>
        </div>
      </div>
      <div class="helper" style="padding:0 0 16px">¬© <span id="year"></span> ShopSphere</div>
    </div>
  </footer>  <script>const firebaseConfig = {
  apiKey: "AIzaSyCglKXoDTnD7X0iRM-wskCUnxyFXJCIyCM",
  authDomain: "my-ecommerce-auth-2b86d.firebaseapp.com",
  projectId: "my-ecommerce-auth-2b86d",
  appId: "1:747882612530:web:940467d8823cd576cab92b"
};</script>
 <script>
    /************************************
     * Demo Data + Utilities (mock backend)
     ************************************/
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));
    const fmt = (n) => `$${n.toFixed(2)}`;
    const uid = () => Math.random().toString(36).slice(2,9);

    // Mock "DB" with products (id, gender, category, likes, sales, addedAt, discount, rating)
    const products = (() => {
      const now = Date.now();
        const data = [
        {id:'p1', title:'Eco Tee', price:24.00, gender:'men', category:'tees', likes:180, sales:520, addedAt: now-3*86400000, discount:0.10, rating:4.6, images:['images/chair.jpg'], variants:{size:['S','M','L','XL'], color:['Black','Olive','White']}, sku:'TEE-ECO-001', specs:['100% organic cotton','Pre‚Äëshrunk','Fair trade'], tags:['new','organic','eco']},
        {id:'p2', title:'City Sneakers', price:89.00, gender:'men', category:'sneakers', likes:320, sales:980, addedAt: now-12*86400000, discount:0.20, rating:4.8, images:['images/chairmufasa.jpg'], variants:{size:['7','8','9','10','11'], color:['White','Gray']}, sku:'SNK-CITY-002', specs:['Cushioned midsole','Breathable mesh','Durarubber outsole'], tags:['deal','best']},
        {id:'p3', title:'Athleisure Set', price:64.00, gender:'women', category:'athleisure', likes:210, sales:610, addedAt: now-1*86400000, discount:0.0, rating:4.5, images:['images/chairs.jpg'], variants:{size:['XS','S','M','L'], color:['Charcoal','Sage']}, sku:'SET-ATH-003', specs:['4‚Äëway stretch','Moisture wicking','Flatlock seams'], tags:['new']},
        {id:'p4', title:'Minimal Backpack', price:72.00, gender:'unisex', category:'accessories', likes:155, sales:410, addedAt: now-20*86400000, discount:0.15, rating:4.3, images:['images/chairs1.jpg'], variants:{size:['One'], color:['Black','Sand']}, sku:'BAG-MIN-004', specs:['Water‚Äëresistant','Laptop sleeve','Recycled nylon'], tags:['popular']},
        {id:'p5', title:'Cozy Hoodie', price:58.00, gender:'women', category:'hoodies', likes:400, sales:1200, addedAt: now-30*86400000, discount:0.25, rating:4.9, images:['images/desk.jpg'], variants:{size:['S','M','L'], color:['Oat','Black']}, sku:'HDY-COZY-005', specs:['Brushed fleece','Kangaroo pocket','Raglan sleeves'], tags:['best','liked']},
        {id:'p6', title:'Ribbed Tank', price:19.00, gender:'women', category:'tops', likes:130, sales:210, addedAt: now-6*86400000, discount:0, rating:4.2, images:['images/dining-table.jpg'], variants:{size:['XS','S','M','L'], color:['White','Black']}, sku:'TNK-RIB-006', specs:['Breathable','Body‚Äëskimming fit','Soft rib'], tags:['new']},
        {id:'p7', title:'Performance Joggers', price:54.00, gender:'men', category:'pants', likes:95, sales:300, addedAt: now-10*86400000, discount:0.05, rating:4.1, images:['images/dining.jpg'], variants:{size:['S','M','L','XL'], color:['Navy','Coal']}, sku:'JOG-PERF-007', specs:['Secure pockets','Tapered fit','Quick dry'], tags:['offer']},
        {id:'p8', title:'Cashmere Beanie', price:36.00, gender:'unisex', category:'accessories', likes:220, sales:160, addedAt: now-2*86400000, discount:0, rating:4.7, images:['images/diningtable.jpg'], variants:{size:['One'], color:['Gray','Brown']}, sku:'BN-CASH-008', specs:['Grade‚ÄëA cashmere','Double knit','Ultra soft'], tags:['liked','new']},
        {id:'p9', title:'Trail Runners', price:92.00, gender:'women', category:'sneakers', likes:180, sales:500, addedAt: now-14*86400000, discount:0.18, rating:4.4, images:['diningtable1.jpg'], variants:{size:['6','7','8','9'], color:['Teal','Black']}, sku:'RUN-TRL-009', specs:['Aggressive lugs','Rock plate','Reflective'], tags:['deal']}
      ];
      return data;
    })();
/* ============================
   EXTRA PRODUCTS p10 - p40
============================ */

const now = Date.now();

products.push(
  // ------------------ KITCHEN (p10‚Äìp15)
  {id:'p10', title:'Stainless Steel Knife Set', price:35.00, gender:'unisex', category:'kitchen',
    likes:120, sales:300, addedAt: now-3*86400000, discount:0.10, rating:4.5,
    images:['https://images.unsplash.com/photo-1556910103-1c02745aae4d?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Standard'], color:['Silver']},
    sku:'KIT-KNIFE-010', specs:['6-piece set','Ergonomic handle'], tags:['kitchen','deal']},

  {id:'p11', title:'Electric Blender Pro', price:58.00, gender:'unisex', category:'kitchen',
    likes:200, sales:520, addedAt: now-7*86400000, discount:0.15, rating:4.7,
    images:['https://images.unsplash.com/photo-1586201375754-8362c61abf7d?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['1.5L'], color:['Black','White']},
    sku:'KIT-BLEND-011', specs:['600W','Ice crush mode'], tags:['kitchen']},

  {id:'p12', title:'Non-Stick Frying Pan', price:24.00, gender:'unisex', category:'kitchen',
    likes:90, sales:210, addedAt: now-10*86400000, discount:0.12, rating:4.3,
    images:['https://images.unsplash.com/photo-1604908812651-3f5ce242a3cf?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['24cm','28cm'], color:['Black']},
    sku:'KIT-PAN-012', specs:['Scratch-resistant'], tags:['kitchen']},

  {id:'p13', title:'Glass Food Storage Set', price:32.00, gender:'unisex', category:'kitchen',
    likes:150, sales:340, addedAt: now-5*86400000, discount:0.08, rating:4.6,
    images:['https://images.unsplash.com/photo-1586201375843-7a4762a6f9b8?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['500ml','1L'], color:['Clear']},
    sku:'KIT-STORE-013', specs:['Leak-proof lids'], tags:['kitchen']},

  {id:'p14', title:'Multi Grill Sandwich Maker', price:49.00, gender:'unisex', category:'kitchen',
    likes:180, sales:290, addedAt: now-9*86400000, discount:0.20, rating:4.5,
    images:['https://images.unsplash.com/photo-1601314167099-2321f875f0df?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Standard'], color:['Black']},
    sku:'KIT-GRILL-014', specs:['Non-stick plates'], tags:['deal','kitchen']},

  {id:'p15', title:'Premium Wooden Cutting Board', price:19.00, gender:'unisex', category:'kitchen',
    likes:110, sales:260, addedAt: now-6*86400000, discount:0.05, rating:4.4,
    images:['https://images.unsplash.com/photo-1591209627715-3d6941be0f66?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Medium','Large'], color:['Brown']},
    sku:'KIT-BOARD-015', specs:['Natural bamboo'], tags:['kitchen']},

  // ------------------ HOME (p16‚Äìp21)
  {id:'p16', title:'Luxury Throw Blanket', price:28.00, gender:'unisex', category:'home',
    likes:90, sales:180, addedAt: now-4*86400000, discount:0.10, rating:4.5,
    images:['https://images.unsplash.com/photo-1600210492493-0946911123ea?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['150√ó200cm'], color:['Grey','Cream']},
    sku:'HOME-BLANKET-016', specs:['Ultra soft'], tags:['home']},

  {id:'p17', title:'Decorative Wall Mirror', price:45.00, gender:'unisex', category:'home',
    likes:130, sales:230, addedAt: now-11*86400000, discount:0.18, rating:4.6,
    images:['https://images.unsplash.com/photo-1567016554429-449b6a99f91f?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Round','Square'], color:['Gold']},
    sku:'HOME-MIRROR-017', specs:['Steel frame'], tags:['home','deal']},

  {id:'p18', title:'LED Bedroom Lamp', price:34.00, gender:'unisex', category:'home',
    likes:160, sales:300, addedAt: now-8*86400000, discount:0.12, rating:4.8,
    images:['https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Standard'], color:['White','Black']},
    sku:'HOME-LAMP-018', specs:['Warm light'], tags:['home']},

  {id:'p19', title:'Cotton Bedsheet Set', price:42.00, gender:'unisex', category:'home',
    likes:100, sales:250, addedAt: now-7*86400000, discount:0.10, rating:4.4,
    images:['https://images.unsplash.com/photo-1600486913747-55e5470d6c7a?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Queen','King'], color:['Blue','White']},
    sku:'HOME-BEDSHEET-019', specs:['100% cotton'], tags:['home']},

  {id:'p20', title:'Indoor Plant Pot Set', price:20.00, gender:'unisex', category:'home',
    likes:170, sales:320, addedAt: now-13*86400000, discount:0.16, rating:4.7,
    images:['https://images.unsplash.com/photo-1593697821336-c84a0d6d2f83?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Small','Medium'], color:['White']},
    sku:'HOME-POT-020', specs:['Ceramic'], tags:['home']},

  {id:'p21', title:'Portable Air Humidifier', price:33.00, gender:'unisex', category:'home',
    likes:140, sales:260, addedAt: now-9*86400000, discount:0.10, rating:4.6,
    images:['https://images.unsplash.com/photo-1582719478185-daaa1f578f50?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['300ml'], color:['White']},
    sku:'HOME-HUMID-021', specs:['Silent mode'], tags:['home']},

  // ------------------ OFFICE (p22‚Äìp27)
  {id:'p22', title:'Ergonomic Office Chair', price:95.00, gender:'unisex', category:'office',
    likes:220, sales:410, addedAt: now-5*86400000, discount:0.20, rating:4.7,
    images:['https://images.unsplash.com/photo-1505820013142-f86a3439c5f3?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Standard'], color:['Black','Grey']},
    sku:'OFF-CHAIR-022', specs:['Lumbar support'], tags:['office','deal']},

  {id:'p23', title:'Adjustable Laptop Stand', price:27.00, gender:'unisex', category:'office',
    likes:130, sales:350, addedAt: now-12*86400000, discount:0.12, rating:4.5,
    images:['https://images.unsplash.com/photo-1587613754545-2dfd2d595b77?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Universal'], color:['Silver']},
    sku:'OFF-STAND-023', specs:['Aluminium'], tags:['office']},

  {id:'p24', title:'Wireless Keyboard', price:30.00, gender:'unisex', category:'office',
    likes:180, sales:290, addedAt: now-6*86400000, discount:0.10, rating:4.4,
    images:['https://images.unsplash.com/photo-1587825140708-dfaf72ae4b04?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Standard'], color:['White','Black']},
    sku:'OFF-KEY-024', specs:['Rechargeable'], tags:['office']},

  {id:'p25', title:'Desk Organizer Set', price:22.00, gender:'unisex', category:'office',
    likes:140, sales:210, addedAt: now-4*86400000, discount:0.08, rating:4.3,
    images:['https://images.unsplash.com/photo-1519389950473-47ba0277781c?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Small','Medium'], color:['Black']},
    sku:'OFF-ORG-025', specs:['Metal mesh'], tags:['office']},

  {id:'p26', title:'LED Desk Lamp', price:38.00, gender:'unisex', category:'office',
    likes:160, sales:330, addedAt: now-9*86400000, discount:0.15, rating:4.6,
    images:['https://images.unsplash.com/photo-1586023492125-27b2c045efd7?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Standard'], color:['Black']},
    sku:'OFF-LAMP-026', specs:['Touch control'], tags:['office']},

  {id:'p27', title:'Noise Canceling Headset', price:55.00, gender:'unisex', category:'office',
    likes:210, sales:370, addedAt: now-14*86400000, discount:0.22, rating:4.8,
    images:['https://images.unsplash.com/photo-1519677100203-a0e668c92439?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Standard'], color:['Black']},
    sku:'OFF-HEAD-027', specs:['Wireless BT 5.0'], tags:['office','deal']},

  // ------------------ SPORTS (p28‚Äìp33)
  {id:'p28', title:'Yoga Mat Premium', price:25.00, gender:'unisex', category:'sports',
    likes:150, sales:260, addedAt: now-3*86400000, discount:0.12, rating:4.7,
    images:['https://images.unsplash.com/photo-1599058918043-9403f1bff73b?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['6mm'], color:['Purple','Blue']},
    sku:'SPRT-MAT-028', specs:['Non-slip'], tags:['sports']},

  {id:'p29', title:'Dumbbell Set 10kg', price:40.00, gender:'unisex', category:'sports',
    likes:190, sales:340, addedAt: now-10*86400000, discount:0.18, rating:4.6,
    images:['https://images.unsplash.com/photo-1571019613846-1a8f1cbd345c?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['10kg'], color:['Black']},
    sku:'SPRT-DB-029', specs:['Rubber coated'], tags:['sports']},

  {id:'p30', title:'Running Shorts', price:18.00, gender:'unisex', category:'sports',
    likes:100, sales:200, addedAt: now-11*86400000, discount:0.10, rating:4.4,
    images:['https://images.unsplash.com/photo-1533560777802-6b8da08a523e?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['S','M','L'], color:['Black','Navy']},
    sku:'SPRT-SHORT-030', specs:['Breathable'], tags:['sports']},

  {id:'p31', title:'Football Boots', price:62.00, gender:'unisex', category:'sports',
    likes:220, sales:420, addedAt: now-12*86400000, discount:0.20, rating:4.8,
    images:['https://images.unsplash.com/photo-1517649763962-0c623066013b?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['40','41','42','43'], color:['Red','Black']},
    sku:'SPRT-FB-031', specs:['Firm ground'], tags:['sports','deal']},

  {id:'p32', title:'Jump Rope Adjustable', price:12.00, gender:'unisex', category:'sports',
    likes:80, sales:150, addedAt: now-5*86400000, discount:0.05, rating:4.2,
    images:['https://images.unsplash.com/photo-1579758629938-03607ccdbaba?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Adjustable'], color:['Black']},
    sku:'SPRT-ROPE-032', specs:['Steel wire'], tags:['sports']},

  {id:'p33', title:'Sports Water Bottle', price:14.00, gender:'unisex', category:'sports',
    likes:130, sales:260, addedAt: now-8*86400000, discount:0.10, rating:4.3,
    images:['https://images.unsplash.com/photo-1585238341983-57c31f182a3f?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['750ml'], color:['Blue','Black']},
    sku:'SPRT-WATER-033', specs:['BPA-free'], tags:['sports']},

  // ------------------ ELECTRONICS (p34‚Äìp40)
  {id:'p34', title:'Wireless Earbuds Pro', price:59.00, gender:'unisex', category:'electronics',
    likes:250, sales:480, addedAt: now-9*86400000, discount:0.22, rating:4.8,
    images:['https://images.unsplash.com/photo-1590658268037-6bf12165a8df?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Standard'], color:['Black','White']},
    sku:'ELEC-BUD-034', specs:['Noise canceling'], tags:['electronics','deal']},

  {id:'p35', title:'Smartwatch X2', price:75.00, gender:'unisex', category:'electronics',
    likes:290, sales:520, addedAt: now-10*86400000, discount:0.15, rating:4.7,
    images:['https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['42mm'], color:['Black','Silver']},
    sku:'ELEC-WATCH-035', specs:['Heart-rate monitor'], tags:['electronics']},

  {id:'p36', title:'Bluetooth Speaker Mini', price:22.00, gender:'unisex', category:'electronics',
    likes:160, sales:310, addedAt: now-6*86400000, discount:0.10, rating:4.5,
    images:['https://images.unsplash.com/photo-1512427691650-1f6a75d1d9cf?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Mini'], color:['Blue','Black']},
    sku:'ELEC-SPK-036', specs:['Deep bass'], tags:['electronics']},

  {id:'p37', title:'4K Action Camera', price:99.00, gender:'unisex', category:'electronics',
    likes:240, sales:420, addedAt: now-14*86400000, discount:0.20, rating:4.6,
    images:['https://images.unsplash.com/photo-1519183071298-a2962be90b8e?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Standard'], color:['Black']},
    sku:'ELEC-CAM-037', specs:['Waterproof'], tags:['electronics','deal']},

  {id:'p38', title:'Gaming Mouse RGB', price:29.00, gender:'unisex', category:'electronics',
    likes:180, sales:310, addedAt: now-11*86400000, discount:0.12, rating:4.6,
    images:['https://images.unsplash.com/photo-1593642532458-8ce7c8b15305?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['Standard'], color:['Black','RGB']},
    sku:'ELEC-MOUSE-038', specs:['Programmable buttons'], tags:['electronics']},

  {id:'p39', title:'Portable Powerbank 20k', price:34.00, gender:'unisex', category:'electronics',
    likes:190, sales:350, addedAt: now-5*86400000, discount:0.10, rating:4.5,
    images:['https://images.unsplash.com/photo-1585829365092-3e7f1f1f65ae?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['20000mAh'], color:['Black']},
    sku:'ELEC-PWR-039', specs:['Fast charging'], tags:['electronics']},

  {id:'p40', title:'USB-C Fast Charger', price:16.00, gender:'unisex', category:'electronics',
    likes:110, sales:240, addedAt: now-7*86400000, discount:0.05, rating:4.2,
    images:['https://images.unsplash.com/photo-1580983561371-7b5d6d4d7d05?q=80&w=900&auto=format&fit=crop'],
    variants:{size:['25W'], color:['White']},
    sku:'ELEC-CHG-040', specs:['Quick charge'], tags:['electronics']}
);

/* ============================
   RENDER EXTRA ROWS
============================ */

rowFill('#rowKitchen', products.filter(p=>p.category==='kitchen'));
rowFill('#rowHome', products.filter(p=>p.category==='home'));
rowFill('#rowOffice', products.filter(p=>p.category==='office'));
rowFill('#rowSports', products.filter(p=>p.category==='sports'));
rowFill('#rowElectronics', products.filter(p=>p.category==='electronics'));
    // LocalStorage namespaces
    const LS = {
      cart: 'ss_cart',
      wishlist: 'ss_wishlist',
      user: 'ss_user',
      views: 'ss_recent_views',
      reviews: 'ss_reviews',
    };

    const store = {
      get(key, fallback){ try{ return JSON.parse(localStorage.getItem(key)) ?? fallback }catch(_){ return fallback } },
      set(key, val){ localStorage.setItem(key, JSON.stringify(val)); },
      push(key, item){ const arr = store.get(key, []); arr.push(item); store.set(key, arr); return arr; }
    };

    /************************************
     * Rendering helpers
     ************************************/
    function starIcons(r){
      const full = Math.floor(r), half = r - full >= .5;
      let s='';
      for(let i=0;i<5;i++){
        if(i<full) s+= '‚òÖ'; else if(i===full && half) s+='‚òÜ'; else s+='‚ú©';
      }
      return `<span aria-hidden="true">${s}</span> <span class="sr-only">${r.toFixed(1)} / 5</span>`
    }

    function productCard(p){
      return `<article class="p-card" data-id="${p.id}">
        <img src="${p.images[0]}" alt="${p.title}" loading="lazy" >
        <div class="p-meta">
          <div style="display:flex;justify-content:space-between;gap:8px;align-items:center">
            <h4 style="margin:0;font-size:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis" title="${p.title}">${p.title}</h4>
            <button class="icon-btn add-wish" title="Add to wishlist" aria-label="Add ${p.title} to wishlist">‚ô°</button>
          </div>
          <div class="helper">${starIcons(p.rating)}</div>
          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:6px">
            <strong>${fmt(p.price * (1-p.discount))}</strong>
            ${p.discount?`<span class="pill" title="${(p.discount*100)|0}% off">-${(p.discount*100)|0}%</span>`:''}
          </div>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button class="btn btn-primary add-cart" aria-label="Add ${p.title} to cart">Add</button>
            <button class="btn btn-ghost view-product" aria-label="View ${p.title}">View</button>
          </div>
        </div>
      </article>`
    }

    function rowFill(targetSel, list){
      const el = document.querySelector(targetSel);
      el.innerHTML = list.map(productCard).join('');
    }

    // Men/Women big + four small
    function fillMW(gridSel, items){
      const grid = $(gridSel);
      grid.style.gridAutoRows = '220px';
      grid.innerHTML = '';
      const big = items[0];
      grid.insertAdjacentHTML('beforeend', `<a class="big" href="#" data-id="${big.id}" aria-label="View ${big.title}"><img src="${big.images[0]}" alt="${big.title}" loading="lazy"><div class="meta">${big.title} ‚Äî ${fmt(big.price)}</div></a>`);
      items.slice(1,5).forEach(p => grid.insertAdjacentHTML('beforeend', `<a class="card" href="#" data-id="${p.id}" aria-label="View ${p.title}"><img src="${p.images[0]}" alt="${p.title}" loading="lazy"><div class="meta">${p.title} ‚Äî ${fmt(p.price)}</div></a>`));
    }

    /************************************
     * Filters -> Sections (hooks)
     ************************************/
    const byNew = [...products].sort((a,b)=>b.addedAt - a.addedAt);
    const byBest = [...products].sort((a,b)=>b.sales - a.sales);
    const byDeals = products.filter(p=>p.discount>0).sort((a,b)=>b.discount-a.discount);
    const byLiked = [...products].sort((a,b)=>b.likes - a.likes);

    // Initial render
    rowFill('#rowNew', byNew);
    rowFill('#rowBest', byBest);
    rowFill('#rowDeals', byDeals);
    rowFill('#rowLiked', byLiked);
    fillMW('#menGrid', products.filter(p=>p.gender!=='women').slice(0,5));
    fillMW('#womenGrid', products.filter(p=>p.gender!=='men').slice(0,5));

    // Carousel controls
    $$('#main [data-scroll]').forEach(btn=>btn.addEventListener('click', e=>{
      const t = document.querySelector(btn.dataset.target);
      t.scrollBy({left: btn.dataset.scroll==='next'? 300 : -300, behavior:'smooth'});
    }));

    /************************************
     * Search + autocomplete
     ************************************/
    const ac = $('#autocomplete');
    const sinput = $('#searchInput');

    function updateAutocomplete(q){
      const m = q.trim().toLowerCase();
      if(!m){ ac.style.display='none'; return; }
      const hits = products.filter(p=>[p.title, p.category, p.tags.join(' ')].join(' ').toLowerCase().includes(m)).slice(0,6);
      ac.innerHTML = hits.map(h=>`<button role="option" data-id="${h.id}">${h.title} ‚Ä¢ <span class="helper">${h.category}</span></button>`).join('');
      ac.style.display = hits.length? 'block' : 'none';
      sinput.setAttribute('aria-expanded','true');
      ac.id = 'acList';
    }

    sinput.addEventListener('input', e=> updateAutocomplete(e.target.value));
    sinput.addEventListener('keydown', e=>{ if((e.ctrlKey||e.metaKey) && e.key.toLowerCase()==='k'){ e.preventDefault(); sinput.focus(); } });
    ac.addEventListener('click', e=>{ const b=e.target.closest('button'); if(!b) return; openProduct(b.dataset.id) });

    /************************************
     * Wishlist + Cart (localStorage)
     ************************************/
    function getCart(){ return store.get(LS.cart, []) }
    function setCart(c){ store.set(LS.cart, c); $('#cartCount').textContent = c.reduce((n,i)=>n+i.qty,0) }
    function getWishlist(){ return store.get(LS.wishlist, []) }

    setCart(getCart());

    document.addEventListener('click', e=>{
      const card = e.target.closest('.p-card');
      if(card){
        const id = card.dataset.id; const p = products.find(x=>x.id===id);
        if(e.target.closest('.add-cart')){ addToCart(p,1); }
        if(e.target.closest('.view-product')){ openProduct(id); }
        if(e.target.closest('.add-wish')){ toggleWishlist(p); }
      }
      const mw = e.target.closest('.card, .big'); if(mw){ openProduct(mw.dataset.id); }
    });

    function addToCart(p, qty){
      const c = getCart();
      const idx = c.findIndex(i=>i.id===p.id);
      if(idx>-1) c[idx].qty += qty; else c.push({id:p.id, title:p.title, price:p.price*(1-p.discount), img:p.images[0], qty});
      setCart(c); renderCart();
    }

    function removeFromCart(id){
      const c = getCart().filter(i=>i.id!==id); setCart(c); renderCart();
    }

    function renderCart(){
      const box = $('#cartItems');
      const c = getCart();
      if(!c.length){ box.innerHTML = '<p class="helper">Your cart is empty.</p>'; return; }
      const total = c.reduce((n,i)=>n + i.price*i.qty, 0);
      box.innerHTML = c.map(i=>`<div style="display:flex;gap:10px;align-items:center;margin:6px 0">
        <img src="${i.img}" alt="${i.title}" width="64" height="64" style="border-radius:10px;object-fit:cover">
        <div style="flex:1">
          <div>${i.title}</div>
          <div class="helper">${fmt(i.price)} √ó ${i.qty}</div>
        </div>
        <button class="btn btn-ghost" data-remove="${i.id}">Remove</button>
      </div>`).join('') + `<div style="display:flex;justify-content:space-between;margin-top:10px"><strong>Total</strong><strong>${fmt(total)}</strong></div>`;
      box.querySelectorAll('[data-remove]').forEach(b=> b.addEventListener('click', ()=> removeFromCart(b.dataset.remove)));
    }

    function toggleWishlist(p){
      let w = getWishlist();
      if(w.find(x=>x.id===p.id)) w = w.filter(x=>x.id!==p.id); else w.push({id:p.id, title:p.title, price:p.price, img:p.images[0]});
      store.set(LS.wishlist, w); renderWishlist();
    }

    function renderWishlist(){
      const w = getWishlist();
      $('#wishlistItems').innerHTML = w.length? w.map(i=>`<div style="display:flex;gap:10px;align-items:center;margin:6px 0">
        <img src="${i.img}" alt="${i.title}" width="64" height="64" style="border-radius:10px;object-fit:cover">
        <div style="flex:1">
          <div>${i.title}</div>
          <div class="helper">${fmt(i.price)}</div>
        </div>
        <button class="btn btn-primary" data-add="${i.id}">Add</button>
      </div>`).join('') : '<p class="helper">Nothing saved yet.</p>';
      $$('#wishlistItems [data-add]').forEach(b=> b.addEventListener('click', ()=>{
        const p = products.find(x=>x.id===b.dataset.add); addToCart(p,1);
      }));
    }

    $('#openCart').addEventListener('click', ()=> openModal('#cartModal', renderCart));
    $('#openWishlist').addEventListener('click', ()=> openModal('#wishlistModal', renderWishlist));

    /************************************
     * Product modal with related, similar, reviews, recently viewed
     ************************************/
    let currentProduct = null;
    function openProduct(id){
      const p = products.find(x=>x.id===id); if(!p) return;
      currentProduct = p.id;
      // track viewed
      const views = store.get(LS.views, []);
      const v = views.filter(x=>x!==p.id); v.unshift(p.id); store.set(LS.views, v.slice(0,12));

      // header
      $('#viewerImg').src = p.images[0]; $('#viewerImg').alt = p.title;
      $('#mTitle').textContent = p.title; $('#mPrice').textContent = fmt(p.price * (1-p.discount));
      $('#mSku').textContent = 'SKU: ' + p.sku; $('#mStars').innerHTML = starIcons(p.rating);
      // variants
      const opts = [];
      for(const [k,vals] of Object.entries(p.variants)){
        opts.push(`<div class="chip" role="button" tabindex="0" aria-pressed="false" data-variant="${k}">${k}: ${vals.join(', ')}</div>`);
      }
      $('#mVariants').innerHTML = opts.join('');

      // description (500+ words realistic marketing copy)
      const long = `Meet the ${p.title}, designed to be the piece you reach for without thinking and the one you remember the moment you put it on. We started with premium materials selected for comfort, longevity, and low impact, then tuned the fit so it drapes naturally and moves with you all day. Whether you‚Äôre commuting, traveling, lifting, or lounging, the ${p.title} balances softness with structure so you always feel put together.\n\nEvery detail is purposeful. Stitch lines are placed to follow the body and reduce bulk. Seams are reinforced in high‚Äëwear zones for years of reliable use. Fabrics are pre‚Äëwashed to hold their size and feel from day one, and colorfast dyes keep your look fresh after repeat wear. Breathability prevents overheating while subtle stretch supports unrestricted motion. Nothing flashy‚Äîjust quality you can feel.\n\nWe also optimized care. Most days, a quick refresh on a hanger is all it needs. When it‚Äôs time for a wash, toss it in cold with similar colors and lay flat or tumble low. Because the fiber content is responsibly sourced, you‚Äôll spend less time babying and more time living.\n\nYour purchase does more. A portion of profits supports community initiatives and supply‚Äëchain programs that elevate workers‚Äô voices and advance fair‚Äëtrade practices. Packaging is curbside recyclable and we minimize transport emissions by consolidating shipments.\n\nChoose your perfect setup with easy size and color options, then personalize with our bundle recommendations below. Pair the ${p.title} with our performance joggers for the gym, with a crisp overshirt for the office, or with trail runners for a weekend city escape. Our customers tell us it‚Äôs the piece they buy in multiples and recommend to friends. Try it for 30 days‚Äîif it doesn‚Äôt become a favorite, returns are on us.`;
      $('#mDesc').textContent = `${p.title} ‚Äî ${p.specs[0]} ¬∑ ${p.specs[1]} ¬∑ ${p.specs[2]}`;
      $('#mDescLong').textContent = long;
      $('#mSpecs').innerHTML = p.specs.map(s=>`<li>${s}</li>`).join('');

      // related (same category) + similar (same tags/category)
      const related = products.filter(x=>x.category===p.category && x.id!==p.id).slice(0,8);
      const similar = products.filter(x=> x.id!==p.id && (x.category===p.category || x.tags.some(t=>p.tags.includes(t)))).slice(0,12);
      $('#relatedCarousel').innerHTML = related.map(r=>`<img src="${r.images[0]}" alt="${r.title}" data-id="${r.id}">`).join('');
      $('#recentRow').innerHTML = store.get(LS.views, []).map(id=> products.find(pp=>pp.id===id)).filter(Boolean).map(rv=>`<div class="p-card" style="flex:0 0 150px"><img src="${rv.images[0]}" alt="${rv.title}" width="150" height="150"><div class="p-meta"><div style="font-size:13px">${rv.title}</div><div>${fmt(rv.price)}</div></div></div>`).join('');
      $('#similarRow').innerHTML = similar.map(s=> productCard(s)).join('');

      // reviews
      renderReviews(p.id);

      // CTA handlers
      $('#mAddCart').onclick = ()=> addToCart(p, parseInt($('#mQty').value||'1',10));
      $('#mBuyNow').onclick = ()=>{ addToCart(p, parseInt($('#mQty').value||'1',10)); openModal('#cartModal', renderCart) };
      $('#mWishlist').onclick = ()=> toggleWishlist(p);

      // open modal + thumbnails
      $('#productModal').style.display='flex';
      $('#modalClose').focus();
      $('#relatedCarousel').onclick = (e)=>{ const t=e.target.closest('img'); if(t) openProduct(t.dataset.id) };
    }

    function renderReviews(pid){
      const all = store.get(LS.reviews, {});
      const list = all[pid]||[];
      const box = $('#reviewList');
      if(!list.length){ box.innerHTML = '<p class="helper">No reviews yet. Be the first!</p>'; }
      else{
        box.innerHTML = list.map(r=>`<div style="border-bottom:1px solid rgba(255,255,255,.06);padding:8px 0"><strong>${r.name}</strong> <span class="helper">${new Date(r.at).toLocaleString()}</span><div>${'‚òÖ'.repeat(r.stars)}${'‚ú©'.repeat(5-r.stars)}</div><p style="margin:.25rem 0">${r.text}</p></div>`).join('');
      }
      $('#submitReview').onclick = ()=>{
        const text = $('#reviewInput').value.trim(); if(!text) return;
        const entry = {id:uid(), name:'Guest', text, stars:Math.floor(3+Math.random()*2), at:Date.now()};
        all[pid] = [entry, ...(all[pid]||[])]; store.set(LS.reviews, all); $('#reviewInput').value=''; renderReviews(pid);
      };
    }

    // Close modal on backdrop or button
    $('#modalClose').addEventListener('click', ()=> $('#productModal').style.display='none');
    $('#productModal').addEventListener('click', (e)=>{ if(e.target.id==='productModal') $('#productModal').style.display='none' });

    /************************************
     * AUTH + Captcha + 2FA field
     ************************************/
    function randCap(){ const a = 1+Math.floor(Math.random()*9), b = 1+Math.floor(Math.random()*9); return {q:`${a} + ${b} = ?`, a:a+b}; }
    let capL = randCap(), capR = randCap(), capX = randCap();
    $('#lCaptchaQ').textContent = capL.q; $('#rCaptchaQ').textContent = capR.q; $('#xCaptchaQ').textContent = capX.q;

    $$('#authModal [data-auth-tab]').forEach(btn=> btn.addEventListener('click', ()=>{
      const tab = btn.dataset.authTab;
      $('#loginForm').hidden = tab!=='login';
      $('#regForm').hidden = tab!=='register';
      $('#resetForm').hidden = tab!=='reset';
    }));

    $('#loginForm').addEventListener('submit', e=>{
      e.preventDefault();
      const ok = parseInt($('#lCaptcha').value,10) === capL.a;
      if(!ok) return alert('Captcha incorrect');
      store.set(LS.user, {email: $('#lEmail').value, name: 'Member'});
      alert('Logged in! (Demo)');
      closeModal('#authModal');
    });

    $('#regForm').addEventListener('submit', e=>{
      e.preventDefault();
      const ok = parseInt($('#rCaptcha').value,10) === capR.a;
      if(!ok) return alert('Captcha incorrect');
      store.set(LS.user, {email: $('#rEmail').value, name: $('#rName').value});
      alert('Account created! (Demo)');
      closeModal('#authModal');
    });

    $('#resetForm').addEventListener('submit', e=>{
      e.preventDefault();
      const ok = parseInt($('#xCaptcha').value,10) === capX.a;
      if(!ok) return alert('Captcha incorrect');
      alert('Reset link sent! (Demo)');
      closeModal('#authModal');
    });

    /************************************
     * Help center: contact, returns, tracking
     ************************************/
    $$('#helpModal [data-help-tab]').forEach(btn=> btn.addEventListener('click', ()=>{
      const tab = btn.dataset.helpTab;
      $('#contactForm').hidden = tab!=='contact';
      $('#returnsForm').hidden = tab!=='returns';
      $('#trackForm').hidden = tab!=='tracking';
    }));

    $('#contactForm').addEventListener('submit', e=>{ e.preventDefault(); alert('Thanks! We will reply shortly. (Demo)'); closeModal('#helpModal') });
    $('#returnsForm').addEventListener('submit', e=>{ e.preventDefault(); alert('Return started. Watch your inbox. (Demo)'); closeModal('#helpModal') });
    $('#trackForm').addEventListener('submit', e=>{ e.preventDefault(); const n=$('#tOrder').value.trim(); $('#trackResult').textContent = n? `Order ${n} is in transit. ETA 3 days.` : 'Enter an order number.'; });

    /************************************
     * Newsletter + misc
     ************************************/
    $('#newsletterForm').addEventListener('submit', e=>{ e.preventDefault(); alert('Subscribed. Welcome aboard! (Demo)') });

    /************************************
     * Keyboard + Modal helpers
     ************************************/
    function openModal(sel, onOpen){ const m=$(sel); m.style.display='flex'; onOpen && onOpen(); }
    function closeModal(sel){ const m=$(sel); m.style.display='none'; }

    $('#openAuth').addEventListener('click', ()=> openModal('#authModal'));
    $('#openAuth2').addEventListener('click', (e)=>{ e.preventDefault(); openModal('#authModal') });
    $('#openHelp').addEventListener('click', (e)=>{ e.preventDefault(); openModal('#helpModal') });
    $('#openHelp2').addEventListener('click', (e)=>{ e.preventDefault(); openModal('#helpModal') });

    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape'){ ['#productModal','#cartModal','#wishlistModal','#authModal','#helpModal'].forEach(closeModal) } });

    /************************************
     * Hero loop (accessible)
     ************************************/
    const heroImages = [
      {src:'https://images.unsplash.com/photo-1512436991641-6745cdb1723f?q=80&w=1400&auto=format&fit=crop', alt:'Elevated basics'},
      {src:'https://images.unsplash.com/photo-1490481651871-ab68de25d43d?q=80&w=1400&auto=format&fit=crop', alt:'Weekend essentials'},
      {src:'https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1400&auto=format&fit=crop', alt:'Trail ready footwear'}
    ];
    let hi = 0; setInterval(()=>{
      hi = (hi+1)%heroImages.length; const img = heroImages[hi];
      const el = $('#heroSlider img'); el.src = img.src; el.alt = img.alt;
    }, 5000);

    // global year
    $('#year').textContent = new Date().getFullYear();

    // Open cart/wishlist via footer links hash (progressive enhancement)
    window.addEventListener('hashchange', ()=>{
      if(location.hash==='#cart') openModal('#cartModal', renderCart);
    });
  </script>
        </body>
</html>
